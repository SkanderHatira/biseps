this.webpackChunk([13],{1003:function(e,t,n){var r=n(943);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},1047:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CSI=t.TBI=t.TabixIndexedFile=void 0;var i=r(n(1048));t.TabixIndexedFile=i.default;var a=r(n(967));t.TBI=a.default;var s=r(n(971));t.CSI=s.default},1048:function(e,t,n){"use strict";(function(e){var r=n(2),i=n(653).default,a=n(111).default,s=n(112).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(914)),c=o(n(923)),h=n(113),f=n(120),l=n(940),d=o(n(967)),v=o(n(971));function p(e){return new Promise((function(t){setTimeout(t,e)}))}var g=function(){function t(e){var n=e.path,r=e.filehandle,i=e.tbiPath,s=e.tbiFilehandle,o=e.csiPath,f=e.csiFilehandle,l=e.chunkSizeLimit,p=void 0===l?5e7:l,g=e.renameRefSeqs,b=void 0===g?function(e){return e}:g,m=e.chunkCacheSize,w=void 0===m?5*Math.pow(2,20):m;if(a(this,t),r)this.filehandle=r;else{if(!n)throw new TypeError("must provide either filehandle or path");this.filehandle=new h.LocalFile(n)}if(s)this.index=new d.default({filehandle:s,renameRefSeqs:b});else if(f)this.index=new v.default({filehandle:f,renameRefSeqs:b});else if(i)this.index=new d.default({filehandle:new h.LocalFile(i),renameRefSeqs:b});else if(o)this.index=new v.default({filehandle:new h.LocalFile(o),renameRefSeqs:b});else{if(!n)throw new TypeError("must provide one of tbiFilehandle, tbiPath, csiFilehandle, or csiPath");this.index=new d.default({filehandle:new h.LocalFile("".concat(n,".tbi")),renameRefSeqs:b})}this.chunkSizeLimit=p,this.renameRefSeq=b,this.chunkCache=new u.default({cache:new c.default({maxSize:Math.floor(w/65536)}),fill:this.readChunk.bind(this)})}return s(t,[{key:"getLines",value:function(){var e=i(r.mark((function e(t,n,i,a){var s,o,u,c,h,f,d,v,g,b,m,w,k,y,x,_,E,S,I,C,N,O,L;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={},"undefined"!==typeof a){e.next=3;break}throw new TypeError("line callback must be provided");case 3:if("function"===typeof a?u=a:(o=a,u=a.lineCallback),void 0!==t){e.next=6;break}throw new TypeError("must provide a reference sequence name");case 6:if(u){e.next=8;break}throw new TypeError("line callback must be provided");case 8:return e.next=10,this.index.getMetadata(o);case 10:if(c=e.sent,(0,l.checkAbortSignal)(s),n||(n=0),i||(i=c.maxRefLength),n<=i){e.next=16;break}throw new TypeError("invalid start and end coordinates. start must be less than or equal to end");case 16:if(n!==i){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,this.index.blocksForRange(t,n,i,o);case 20:h=e.sent,(0,l.checkAbortSignal)(s),f=0;case 23:if(!(f<h.length)){e.next=30;break}if(!((d=h[f].fetchedSize())>this.chunkSizeLimit)){e.next=27;break}throw new Error("Too much data. Chunk size ".concat(d.toLocaleString()," bytes exceeds chunkSizeLimit of ").concat(this.chunkSizeLimit.toLocaleString(),"."));case 27:f+=1,e.next=23;break;case 30:v=Date.now(),g=0;case 32:if(!(g<h.length)){e.next=72;break}return b=void 0,m=h[g],e.next=37,this.chunkCache.get(m.toString(),m,s);case 37:w=e.sent,k=w.buffer,y=w.cpositions,x=w.dpositions,(_=("undefined"!==typeof TextDecoder?new TextDecoder("utf-8").decode(k):k.toString()).split("\n")).pop(),(0,l.checkAbortSignal)(s),E=m.minv.dataPosition,S=void 0,I=0;case 47:if(!(I<_.length)){e.next=69;break}for(C=_[I],S=0;E>=x[S];S+=1);if(N=this.checkLine(c,t,n,i,C),O=N.startCoordinate,L=N.overlaps,!(void 0!==b&&void 0!==O&&b>O)){e.next=53;break}throw new Error("Lines not sorted by start coordinate (".concat(b," > ").concat(O,"), this file is not usable with Tabix."));case 53:if(b=O,!L){e.next=58;break}u(C.trim(),256*y[S]+(E-x[S])),e.next=60;break;case 58:if(!(void 0!==O&&O>=i)){e.next=60;break}return e.abrupt("return");case 60:if(E+=C.length+1,!(v-Date.now()>500)){e.next=66;break}return v=Date.now(),(0,l.checkAbortSignal)(s),e.next=66,p(1);case 66:I+=1,e.next=47;break;case 69:g+=1,e.next=32;break;case 72:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getMetadata",value:function(){var e=i(r.mark((function e(){var t,n=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",this.index.getMetadata(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeaderBuffer",value:function(){var e=i(r.mark((function e(){var t,n,i,a,s,o,u,c,h,d,v,p=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.getMetadata(t);case 3:return n=e.sent,i=n.firstDataLine,a=n.metaChar,s=n.maxBlockSize,(0,l.checkAbortSignal)(t.signal),o=i&&i.blockPosition?i.blockPosition+s:s,e.next=11,this._readRegion(0,o,t);case 11:return u=e.sent,(0,l.checkAbortSignal)(t.signal),e.prev=13,e.next=16,(0,f.unzip)(u);case 16:u=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(13),console.error(e.t0),new Error("error decompressing block ".concat(e.t0.code," at 0 (length ").concat(o,") ").concat(e.t0));case 23:if(!a){e.next=36;break}c=-1,h="\n".charCodeAt(0),d=a.charCodeAt(0),v=0;case 28:if(!(v<u.length)){e.next=35;break}if(v!==c+1||u[v]===d){e.next=31;break}return e.abrupt("break",35);case 31:u[v]===h&&(c=v);case 32:v+=1,e.next=28;break;case 35:u=u.slice(0,c+1);case 36:return e.abrupt("return",u);case 37:case"end":return e.stop()}}),e,this,[[13,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"getHeader",value:function(){var e=i(r.mark((function e(){var t,n,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getHeaderBuffer(t);case 3:return n=e.sent,(0,l.checkAbortSignal)(t.signal),e.abrupt("return",n.toString("utf8"));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReferenceSequenceNames",value:function(){var e=i(r.mark((function e(){var t,n,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getMetadata(t);case 3:return n=e.sent,e.abrupt("return",n.refIdToName);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkLine",value:function(e,t,n,r,i){var a=e.columnNumbers,s=e.metaChar,o=e.coordinateType,u=e.format;if(i.charAt(0)===s)return{overlaps:!1};var c=a.ref,h=a.start,f=a.end;c||(c=0),h||(h=0),f||(f=0),"VCF"===u&&(f=8);for(var l=Math.max(c,h,f),d=1,v=0,p="",g=-1/0,b=0;b<i.length+1;b+=1)if("\t"===i[b]||b===i.length){if(d===c){if(this.renameRefSeq(i.slice(v,b))!==t)return{overlaps:!1}}else if(d===h){if(g=parseInt(i.slice(v,b),10),"1-based-closed"===o&&(g-=1),g>=r)return{startCoordinate:g,overlaps:!1};if((0===f||f===h)&&g+1<=n)return{startCoordinate:g,overlaps:!1}}else if("VCF"===u&&4===d)p=i.slice(v,b);else if(d===f){if(("VCF"===u?this._getVcfEnd(g,p,i.slice(v,b)):parseInt(i.slice(v,b),10))<=n)return{overlaps:!1}}if(v=b+1,(d+=1)>l)break}return{startCoordinate:g,overlaps:!0}}},{key:"_getVcfEnd",value:function(e,t,n){var r=e+t.length,i=-1!==n.indexOf("SVTYPE=TRA");if("."===n[0]||i){if(i)return e+1}else for(var a=";",s=0;s<n.length;s+=1){if(";"===a&&"END="===n.slice(s,s+4)){var o=n.indexOf(";",s);-1===o&&(o=n.length),r=parseInt(n.slice(s+4,o),10);break}a=n[s]}return r}},{key:"lineCount",value:function(){var e=i(r.mark((function e(t){var n,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",this.index.lineCount(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_readRegion",value:function(){var t=i(r.mark((function t(n,i){var a,s,o,u,c=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:{},t.next=3,this.filehandle.read(e.alloc(i),0,i,n,a);case 3:return s=t.sent,o=s.bytesRead,u=s.buffer,t.abrupt("return",o<i?u.slice(0,o):u);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"readChunk",value:function(){var e=i(r.mark((function e(t){var n,i,a=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this._readRegion(t.minv.blockPosition,t.fetchedSize(),n);case 3:return i=e.sent,e.prev=4,e.abrupt("return",(0,f.unzipChunkSlice)(i,t));case 8:throw e.prev=8,e.t0=e.catch(4),new Error("error decompressing chunk ".concat(t.toString()," ").concat(e.t0));case 11:case"end":return e.stop()}}),e,this,[[4,8]])})));return function(t){return e.apply(this,arguments)}}()}]),t}();t.default=g}).call(this,n(64).Buffer)},1297:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(5),i=n(10),a=n(12),s=n(11),o=n(39),u=n(36),c=n(17),h=n(18),f=n(2),l=n.n(f),d=n(53),v=n(41),p=n(7),g=n(75),b=n(1047),m=n(123),w=n(4),k=n(430),y=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).configured=void 0,e}return Object(s.a)(n,[{key:"configurePre",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,r,i,a,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(w.readConfObject)(this.config,"vcfGzLocation"),n=Object(w.readConfObject)(this.config,["index","location"]),r=Object(w.readConfObject)(this.config,["index","indexType"]),i=Object(v.openLocation)(t,this.pluginManager),a="CSI"===r,s=new b.TabixIndexedFile({filehandle:i,csiFilehandle:a?Object(v.openLocation)(n,this.pluginManager):void 0,tbiFilehandle:a?void 0:Object(v.openLocation)(n,this.pluginManager),chunkCacheSize:50*Math.pow(2,20),chunkSizeLimit:1e9}),e.next=8,s.getHeader();case 8:return o=e.sent,e.abrupt("return",{filehandle:i,vcf:s,parser:new m.a({header:o})});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"configure",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configured||(this.configured=this.configurePre().catch((function(e){throw t.configured=void 0,e}))),e.abrupt("return",this.configured);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRefNames",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.configure();case 3:return n=e.sent,r=n.vcf,e.abrupt("return",r.getReferenceSequenceNames(t));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeader",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.vcf,e.abrupt("return",n.getHeader());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMetadata",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.parser,e.abrupt("return",n.getMetadata());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(g.ObservableCreate)(function(){var a=Object(i.a)(l.a.mark((function i(a){var s,o,u,c,h,f;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=e.refName,o=e.start,u=e.end,i.next=3,t.configure();case 3:return c=i.sent,h=c.vcf,f=c.parser,i.next=8,h.getLines(s,o,u,Object(r.a)({lineCallback:function(e,n){a.next(new k.a({variant:f.parseLine(e),parser:f,id:"".concat(t.id,"-vcf-").concat(n)}))}},n));case 8:a.complete();case 9:case"end":return i.stop()}}),i)})));return function(e){return a.apply(this,arguments)}}(),n.signal)}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(o.a)(Object(u.a)(n.prototype),"getFeaturesInMultipleRegions",this);return Object(g.ObservableCreate)(function(){var n=Object(i.a)(l.a.mark((function n(i){var s,o,u,c,h,f,d;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.configure();case 2:return s=n.sent,o=s.vcf,n.next=6,Object(p.bytesForRegions)(e,o.index);case 6:return u=n.sent,n.next=9,t.configure();case 9:return c=n.sent,h=c.filehandle,n.next=13,h.stat();case 13:f=n.sent,(d=Math.round(u/f.size*100))>100&&(d=100),d>60&&console.warn("getFeaturesInMultipleRegions fetching ".concat(d,"% of VCF file, but whole-file streaming not yet implemented")),a.call(t,e,r).subscribe(i);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),n}(d.BaseFeatureDataAdapter)},913:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbortSignal=t.AbortController=void 0;var r=n(333),i=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")},a="undefined"===typeof i().AbortController?r.AbortController:i().AbortController;t.AbortController=a;var s="undefined"===typeof i().AbortController?r.AbortSignal:i().AbortSignal;t.AbortSignal=s}).call(this,n(70))},914:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(918));t.default=i.default},915:function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(I){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var a={},s={};function o(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(s[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=c(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function u(e,t){if(isNaN(e))return t?m:b;if(t){if(e<0)return m;if(e>=v)return _}else{if(e<=-p)return E;if(e+1>=p)return x}return e<0?u(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=o,r.fromNumber=u,r.fromBits=c;var h=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return b;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var i=u(h(n,8)),a=b,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+o),n);if(o<8){var l=u(h(n,o));a=a.mul(l).add(u(c))}else a=(a=a.mul(i)).add(u(c))}return a.unsigned=t,a}function l(e,t){return"number"===typeof e?u(e,t):"string"===typeof e?f(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=l;var d=4294967296,v=d*d,p=v/2,g=o(1<<24),b=o(0);r.ZERO=b;var m=o(0,!0);r.UZERO=m;var w=o(1);r.ONE=w;var k=o(1,!0);r.UONE=k;var y=o(-1);r.NEG_ONE=y;var x=c(-1,2147483647,!1);r.MAX_VALUE=x;var _=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var E=c(0,-2147483648,!1);r.MIN_VALUE=E;var S=r.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(h(e,6),this.unsigned),a=this,s="";;){var o=a.div(i),c=(a.sub(o.mul(i)).toInt()>>>0).toString(e);if((a=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return i(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(i(e)||(e=l(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(w)},S.neg=S.negate,S.add=function(e){i(e)||(e=l(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,a=65535&this.low,s=e.high>>>16,o=65535&e.high,u=e.low>>>16,h=0,f=0,d=0,v=0;return d+=(v+=a+(65535&e.low))>>>16,f+=(d+=r+u)>>>16,h+=(f+=n+o)>>>16,h+=t+s,c((d&=65535)<<16|(v&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},S.subtract=function(e){return i(e)||(e=l(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return b;if(i(e)||(e=l(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return b;if(this.eq(E))return e.isOdd()?E:b;if(e.eq(E))return this.isOdd()?E:b;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,a=this.low>>>16,s=65535&this.low,o=e.high>>>16,h=65535&e.high,f=e.low>>>16,d=65535&e.low,v=0,p=0,m=0,w=0;return m+=(w+=s*d)>>>16,p+=(m+=a*d)>>>16,m&=65535,p+=(m+=s*f)>>>16,v+=(p+=r*d)>>>16,p&=65535,v+=(p+=a*f)>>>16,p&=65535,v+=(p+=s*h)>>>16,v+=t*d+r*f+a*h+s*o,c((m&=65535)<<16|(w&=65535),(v&=65535)<<16|(p&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(i(e)||(e=l(e)),e.isZero())throw Error("division by zero");var t,r,a;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:b;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return k;a=m}else{if(this.eq(E))return e.eq(w)||e.eq(y)?E:e.eq(E)?w:(t=this.shr(1).div(e).shl(1)).eq(b)?e.isNegative()?w:y:(r=this.sub(e.mul(t)),a=t.add(r.div(e)));if(e.eq(E))return this.unsigned?m:b;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=b}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),o=s<=48?1:h(2,s-48),f=u(t),d=f.mul(e);d.isNegative()||d.gt(r);)d=(f=u(t-=o,this.unsigned)).mul(e);f.isZero()&&(f=w),a=a.add(f),r=r.sub(d)}return a},S.div=S.divide,S.modulo=function(e){return i(e)||(e=l(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return c(~this.low,~this.high,this.unsigned)},S.and=function(e){return i(e)||(e=l(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return i(e)||(e=l(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return i(e)||(e=l(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return i(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},918:function(e,t,n){"use strict";var r=n(111).default,i=n(112).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(913),o=a(n(919)),u=a(n(920)),c=function(){function e(t){var n=t.fill,i=t.cache;if(r(this,e),"function"!==typeof n)throw new TypeError("must pass a fill function");if("object"!==typeof i)throw new TypeError("must pass a cache object");if("function"!==typeof i.get||"function"!==typeof i.set||"function"!==typeof i.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=i,this.fillCallback=n}return i(e,[{key:"evict",value:function(e,t){this.cache.get(e)===t&&this.cache.delete(e)}},{key:"fill",value:function(e,t,n,r){var i=this,a=new o.default,s=new u.default;s.addCallback(r);var c={aborter:a,promise:this.fillCallback(t,a.signal,(function(e){s.callback(e)})),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};c.aborter.addSignal(n),c.aborter.signal.addEventListener("abort",(function(){c.settled||i.evict(e,c)})),c.promise.then((function(){c.settled=!0}),(function(){c.settled=!0,i.evict(e,c)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,c)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"get",value:function(t,n,r,i){if(!r&&n instanceof s.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var a=this.cache.get(t);return a?a.aborted&&!a.settled?(this.evict(t,a),this.get(t,n,r,i)):a.settled?a.promise:(a.aborter.addSignal(r),a.statusReporter.addCallback(i),e.checkSinglePromise(a.promise,r)):(this.fill(t,n,r,i),e.checkSinglePromise(this.cache.get(t).promise,r))}},{key:"delete",value:function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}},{key:"clear",value:function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t}}],[{key:"isAbortException",value:function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}},{key:"checkSinglePromise",value:function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return n(),e}),(function(e){throw n(),e}))}}]),e}();t.default=c},919:function(e,t,n){"use strict";var r=n(112).default,i=n(111).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(913),s=r((function e(){i(this,e)})),o=function(){function e(){i(this,e),this.signals=new Set,this.abortController=new a.AbortController}return r(e,[{key:"addSignal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s;if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):"function"===typeof t.addEventListener&&t.addEventListener("abort",(function(){e.handleAborted(t)}))}},{key:"handleAborted",value:function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}},{key:"signal",get:function(){return this.abortController.signal}},{key:"abort",value:function(){this.abortController.abort()}}]),e}();t.default=o},920:function(e,t,n){"use strict";var r=n(111).default,i=n(112).default;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){r(this,e),this.callbacks=new Set}return i(e,[{key:"addCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.callbacks.add(e),e(this.currentMessage)}},{key:"callback",value:function(e){this.currentMessage=e,this.callbacks.forEach((function(t){t(e)}))}}]),e}();t.default=a},923:function(e,t,n){"use strict";var r=n(2),i=n(247).default,a=n(410).default,s=n(111).default,o=n(112).default,u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return o(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:r.mark((function e(){var t,n,s,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return s=i(n.value,1),o=s[0],e.next=7,o;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:r.mark((function e(){var t,n,s,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return s=i(n.value,2),o=s[1],e.next=7,o;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:r.mark((function e(){var t,n,s,o,u,c,h,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return s=n.value,e.next=7,s;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:o=a(this.oldCache),e.prev=18,o.s();case 20:if((u=o.n()).done){e.next=28;break}if(c=u.value,h=i(c,1),f=h[0],this.cache.has(f)){e.next=26;break}return e.next=26,c;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),o.e(e.t1);case 33:return e.prev=33,o.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=a(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||t++}}catch(i){n.e(i)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator);e.exports=u},940:function(e,t,n){"use strict";var r=n(2),i=n(653).default,a=n(112).default,s=n(111).default,o=n(405).default,u=n(408).default,c=n(656).default;Object.defineProperty(t,"__esModule",{value:!0}),t.optimizeChunks=t.canMergeBlocks=t.abortBreakPoint=t.checkAbortSignal=t.longToNumber=void 0,t.longToNumber=function(e){if(e.greaterThan(Number.MAX_SAFE_INTEGER)||e.lessThan(Number.MIN_SAFE_INTEGER))throw new Error("integer overflow");return e.toNumber()};var h=function(e){o(n,e);var t=u(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n)}(c(Error));function f(e){if(e&&e.aborted){if("undefined"!==typeof DOMException)throw new DOMException("aborted","AbortError");var t=new h("aborted");throw t.code="ERR_ABORTED",t}}function l(){return(l=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:f(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return t.minv.blockPosition-e.maxv.blockPosition<65e3&&t.maxv.blockPosition-e.minv.blockPosition<5e6}t.checkAbortSignal=f,t.abortBreakPoint=function(e){return l.apply(this,arguments)},t.canMergeBlocks=d,t.optimizeChunks=function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort((function(e,t){var n=e.minv.blockPosition-t.minv.blockPosition;return 0!==n?n:e.minv.dataPosition-t.minv.dataPosition})),e.forEach((function(e){(!t||e.maxv.compareTo(t)>0)&&(null===r?(n.push(e),r=e):d(r,e)?e.maxv.compareTo(r.maxv)>0&&(r.maxv=e.maxv):(n.push(e),r=e))})),n)}},943:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},967:function(e,t,n){"use strict";var r=n(247).default,i=n(410).default,a=n(2),s=n(653).default,o=n(111).default,u=n(112).default,c=n(405).default,h=n(408).default,f=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return l(t,e),t},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=v(n(915)),g=d(n(968)),b=v(n(969)),m=n(120),w=n(940),k=v(n(970)),y=21578324;function x(e,t){return[[0,0],[1+((e+=1)>>26),1+((t-=1)>>26)],[9+(e>>23),9+(t>>23)],[73+(e>>20),73+(t>>20)],[585+(e>>17),585+(t>>17)],[4681+(e>>14),4681+(t>>14)]]}var _=function(e){c(n,e);var t=h(n);function n(){return o(this,n),t.apply(this,arguments)}return u(n,[{key:"lineCount",value:function(){var e=s(a.mark((function e(t){var n,r,i,s,o=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.parse(n);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return",-1);case 6:if(i=r.refNameToId[t],r.indices[i]){e.next=10;break}return e.abrupt("return",-1);case 10:if(!(s=r.indices[i].stats)){e.next=13;break}return e.abrupt("return",s.lineCount);case 13:return e.abrupt("return",-1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_parse",value:function(){var e=s(a.mark((function e(){var t,n,r,i,s,o,u,c,h,f,l,d,v,p,k,x,_,E,S,I,C=this,N=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.length>0&&void 0!==N[0]?N[0]:{},e.t0=m.unzip,e.next=4,this.filehandle.readFile(t);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:if(n=e.sent,(0,w.checkAbortSignal)(t.signal),n.readUInt32LE(0)===y){e.next=11;break}throw new Error("Not a TBI file");case 11:if(r=n.readInt32LE(4),i=n.readInt32LE(8),s=65536&i?"zero-based-half-open":"1-based-closed",o={0:"generic",1:"SAM",2:"VCF"}[15&i]){e.next=18;break}throw new Error("invalid Tabix preset format flags ".concat(i));case 18:return u={ref:n.readInt32LE(12),start:n.readInt32LE(16),end:n.readInt32LE(20)},c=n.readInt32LE(24),f=((1<<3*((h=5)+1))-1)/7,l=Math.pow(2,14+3*h),d=c?String.fromCharCode(c):null,v=n.readInt32LE(28),p=n.readInt32LE(32),k=this._parseNameBytes(n.slice(36,36+p)),x=k.refNameToId,_=k.refIdToName,E=36+p,I=new Array(r).fill(0).map((function(){var e=n.readInt32LE(E);E+=4;for(var t,r={},i=0;i<e;i+=1){var a=n.readUInt32LE(E);if(E+=4,a>f+1)throw new Error("tabix index contains too many bins, please use a CSI index");if(a===f+1){var s=n.readInt32LE(E);E+=4,2===s&&(t=C.parsePseudoBin(n,E)),E+=16*s}else{var o=n.readInt32LE(E);E+=4;for(var u=new Array(o),c=0;c<o;c+=1){var h=(0,g.fromBytes)(n,E),l=(0,g.fromBytes)(n,E+8);E+=16,S=C._findFirstData(S,h),u[c]=new b.default(h,l,a)}r[a]=u}}var d=n.readInt32LE(E);E+=4;for(var v=new Array(d),p=0;p<d;p+=1)v[p]=(0,g.fromBytes)(n,E),E+=8,S=C._findFirstData(S,v[p]);return{binIndex:r,linearIndex:v,stats:t}})),e.abrupt("return",{indices:I,metaChar:d,maxBinNumber:f,maxRefLength:l,skipLines:v,firstDataLine:S,columnNumbers:u,coordinateType:s,format:o,refIdToName:_,refNameToId:x,maxBlockSize:65536});case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parsePseudoBin",value:function(e,t){return{lineCount:(0,w.longToNumber)(p.default.fromBytesLE(e.slice(t+16,t+24),!0))}}},{key:"_parseNameBytes",value:function(e){for(var t=0,n=0,r=[],i={},a=0;a<e.length;a+=1)if(!e[a]){if(n<a){var s=e.toString("utf8",n,a);s=this.renameRefSeq(s),r[t]=s,i[s]=t}n=a+1,t+=1}return{refNameToId:i,refIdToName:r}}},{key:"blocksForRange",value:function(){var e=s(a.mark((function e(t,n,s){var o,u,c,h,f,l,d,v,p,m,k,y,_,E,S,I,C,N,O,L,T=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=T.length>3&&void 0!==T[3]?T[3]:{},n<0&&(n=0),e.next=4,this.parse(o);case 4:if(u=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:if(c=u.refNameToId[t],h=u.indices[c]){e.next=11;break}return e.abrupt("return",[]);case 11:(h.linearIndex.length?h.linearIndex[n>>14>=h.linearIndex.length?h.linearIndex.length-1:n>>14]:new g.default(0,0))||console.warn("querying outside of possible tabix range"),f=x(n,s),l=[],d=i(f);try{for(d.s();!(v=d.n()).done;)for(p=r(v.value,2),m=p[0],k=p[1],y=m;y<=k;y++)if(h.binIndex[y])for(_=h.binIndex[y],E=0;E<_.length;++E)l.push(new b.default(_[E].minv,_[E].maxv,y))}catch(a){d.e(a)}finally{d.f()}for(S=h.linearIndex.length,I=null,C=Math.min(n>>14,S-1),N=Math.min(s>>14,S-1),O=C;O<=N;++O)(L=h.linearIndex[O])&&(!I||L.compareTo(I)<0)&&(I=L);return e.abrupt("return",(0,w.optimizeChunks)(l,I));case 23:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(k.default);t.default=_},968:function(e,t,n){"use strict";var r=n(111).default,i=n(112).default;Object.defineProperty(t,"__esModule",{value:!0}),t.fromBytes=void 0;var a=function(){function e(t,n){r(this,e),this.blockPosition=t,this.dataPosition=n}return i(e,[{key:"toString",value:function(){return"".concat(this.blockPosition,":").concat(this.dataPosition)}},{key:"compareTo",value:function(e){return this.blockPosition-e.blockPosition||this.dataPosition-e.dataPosition}}],[{key:"min",value:function(){for(var e,t=0,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;!e;t+=1)e=r[t];for(;t<r.length;t+=1)e.compareTo(r[t])>0&&(e=r[t]);return e}}]),e}();t.default=a,t.fromBytes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)throw new Error("big-endian virtual file offsets not implemented");return new a(1099511627776*e[t+7]+4294967296*e[t+6]+16777216*e[t+5]+65536*e[t+4]+256*e[t+3]+e[t+2],e[t+1]<<8|e[t])}},969:function(e,t,n){"use strict";var r=n(111).default,i=n(112).default;Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;r(this,e),this.minv=t,this.maxv=n,this.bin=i,this._fetchedSize=a}return i(e,[{key:"toUniqueString",value:function(){return"".concat(this.minv,"..").concat(this.maxv," (bin ").concat(this.bin,", fetchedSize ").concat(this.fetchedSize(),")")}},{key:"toString",value:function(){return this.toUniqueString()}},{key:"compareTo",value:function(e){return this.minv.compareTo(e.minv)||this.maxv.compareTo(e.maxv)||this.bin-e.bin}},{key:"fetchedSize",value:function(){return void 0!==this._fetchedSize?this._fetchedSize:this.maxv.blockPosition+65536-this.minv.blockPosition}}]),e}();t.default=a},970:function(e,t,n){"use strict";var r=n(2),i=n(1003).default,a=n(653).default,s=n(111).default,o=n(112).default,u=["indices"],c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=c(n(914)),f=c(n(923)),l=function(){function e(t){var n=t.filehandle,r=t.renameRefSeqs,i=void 0===r?function(e){return e}:r;s(this,e),this.filehandle=n,this.renameRefSeq=i}return o(e,[{key:"getMetadata",value:function(){var e=a(r.mark((function e(){var t,n,a,s=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.parse(t);case 3:return n=e.sent,n.indices,a=i(n,u),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_findFirstData",value:function(e,t){return e?e.compareTo(t)>0?t:e:t}},{key:"parse",value:function(){var e=a(r.mark((function e(){var t,n=this,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},this._parseCache||(this._parseCache=new h.default({cache:new f.default({maxSize:1}),fill:function(){return n._parse(t)}})),e.abrupt("return",this._parseCache.get("index",null,void 0));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasRefSeq",value:function(){var e=a(r.mark((function e(t){var n,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.parse(n);case 3:if(e.t1=t,e.t0=e.sent.indices[e.t1],e.t0){e.next=7;break}e.t0={};case 7:return e.abrupt("return",!!e.t0.binIndex);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=l},971:function(e,t,n){"use strict";var r=n(247).default,i=n(410).default,a=n(657).default,s=n(2),o=n(653).default,u=n(111).default,c=n(112).default,h=n(405).default,f=n(408).default,l=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return d(t,e),t},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var g=p(n(915)),b=n(120),m=v(n(968)),w=p(n(969)),k=n(940),y=p(n(970)),x=21582659,_=38359875;function E(e,t){return Math.floor(e/Math.pow(2,t))}var S=function(e){h(n,e);var t=f(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).maxBinNumber=0,r.depth=0,r.minShift=0,r}return c(n,[{key:"lineCount",value:function(){var e=o(s.mark((function e(t){var n,r,i,a,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.parse(n);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return",-1);case 6:if(i=r.refNameToId[t],r.indices[i]){e.next=10;break}return e.abrupt("return",-1);case 10:if(!(a=r.indices[i].stats)){e.next=13;break}return e.abrupt("return",a.lineCount);case 13:return e.abrupt("return",-1);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"indexCov",value:function(){var e=o(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("CSI indexes do not support indexcov");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"parseAuxData",value:function(e,t,n){if(n<30)return{refIdToName:[],refNameToId:{}};var r=e.readInt32LE(t),i=65536&r?"zero-based-half-open":"1-based-closed",a={0:"generic",1:"SAM",2:"VCF"}[15&r];if(!a)throw new Error("invalid Tabix preset format flags ".concat(r));var s={ref:e.readInt32LE(t+4),start:e.readInt32LE(t+8),end:e.readInt32LE(t+12)},o=e.readInt32LE(t+16),u=o?String.fromCharCode(o):"",c=e.readInt32LE(t+20),h=e.readInt32LE(t+24),f=this._parseNameBytes(e.slice(t+28,t+28+h));return{refIdToName:f.refIdToName,refNameToId:f.refNameToId,skipLines:c,metaChar:u,columnNumbers:s,format:a,coordinateType:i}}},{key:"_parseNameBytes",value:function(e){for(var t=0,n=0,r=[],i={},a=0;a<e.length;a+=1)if(!e[a]){if(n<a){var s=e.toString("utf8",n,a);s=this.renameRefSeq(s),r[t]=s,i[s]=t}n=a+1,t+=1}return{refNameToId:i,refIdToName:r}}},{key:"_parse",value:function(){var e=o(s.mark((function e(){var t,n,r,i,o,u,c,h,f,l,d=this,v=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.t0=b.unzip,e.next=4,this.filehandle.readFile(t);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:if((n=e.sent).readUInt32LE(0)!==x){e.next=12;break}r=1,e.next=17;break;case 12:if(n.readUInt32LE(0)!==_){e.next=16;break}r=2,e.next=17;break;case 16:throw new Error("Not a CSI file");case 17:return this.minShift=n.readInt32LE(4),this.depth=n.readInt32LE(8),this.maxBinNumber=((1<<3*(this.depth+1))-1)/7,i=Math.pow(2,this.minShift+3*this.depth),o=n.readInt32LE(12),u={refIdToName:[],refNameToId:{}},o&&(u=this.parseAuxData(n,16,o)),c=n.readInt32LE(16+o),f=16+o+4,l=new Array(c).fill(0).map((function(){var e=n.readInt32LE(f);f+=4;for(var t,r={},i=0;i<e;i+=1){var a=n.readUInt32LE(f);if(a>d.maxBinNumber)t=d.parsePseudoBin(n,f+4),f+=48;else{var s=(0,m.fromBytes)(n,f+4);h=d._findFirstData(h,s);var o=n.readInt32LE(f+12);f+=16;for(var u=new Array(o),c=0;c<o;c+=1){var l=(0,m.fromBytes)(n,f),v=(0,m.fromBytes)(n,f+8);f+=16,u[c]=new w.default(l,v,a)}r[a]=u}}return{binIndex:r,stats:t}})),e.abrupt("return",a(a({},u),{},{csi:!0,refCount:c,maxBlockSize:65536,firstDataLine:h,csiVersion:r,indices:l,depth:this.depth,maxBinNumber:this.maxBinNumber,maxRefLength:i}));case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parsePseudoBin",value:function(e,t){return{lineCount:(0,k.longToNumber)(g.default.fromBytesLE(Array.prototype.slice.call(e,t+28,t+36),!0))}}},{key:"blocksForRange",value:function(){var e=o(s.mark((function e(t,n,a){var o,u,c,h,f,l,d,v,p,g,b,y,x,_,E=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=E.length>3&&void 0!==E[3]?E[3]:{},n<0&&(n=0),e.next=4,this.parse(o);case 4:if(u=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:if(c=u.refNameToId[t],h=u.indices[c]){e.next=11;break}return e.abrupt("return",[]);case 11:f=this.reg2bins(n,a),l=[],d=i(f);try{for(d.s();!(v=d.n()).done;)for(p=r(v.value,2),g=p[0],b=p[1],y=g;y<=b;y++)if(h.binIndex[y])for(x=h.binIndex[y],_=0;_<x.length;++_)l.push(new w.default(x[_].minv,x[_].maxv,y))}catch(s){d.e(s)}finally{d.f()}return e.abrupt("return",(0,k.optimizeChunks)(l,new m.default(0,0)));case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"reg2bins",value:function(e,t){(e-=1)<1&&(e=1),t>Math.pow(2,50)&&(t=Math.pow(2,34)),t-=1;for(var n,r=0,i=0,a=this.minShift+3*this.depth,s=[];r<=this.depth;a-=3,i+=(n=3*r,1*Math.pow(2,n)),r+=1){var o=i+E(e,a),u=i+E(t,a);if(u-o+s.length>this.maxBinNumber)throw new Error("query ".concat(e,"-").concat(t," is too large for current binning scheme (shift ").concat(this.minShift,", depth ").concat(this.depth,"), try a smaller query or a coarser index binning scheme"));s.push([o,u])}return s}}]),n}(y.default);t.default=S}});
//# sourceMappingURL=13.aa3f117980c15500c977.worker.js.map