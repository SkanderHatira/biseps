{"version":3,"sources":["../../../packages/core/ui/ErrorMessage.tsx"],"names":["useStyles","makeStyles","theme","message","border","background","overflow","maxHeight","margin","spacing","padding","errorBox","ErrorMessage","error","classes","str","snapshotError","match","className","slice","JSON","stringify","parse"],"mappings":"sHAAA,mCAGMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,QAAS,CACPC,OAAQ,kBACRC,WAAY,OACZC,SAAU,OACVC,UAAW,IACXC,OAAQN,EAAMO,QAAQ,GACtBC,QAASR,EAAMO,QAAQ,IAGzBE,SAAU,CACRN,WAAY,YACZD,OAAQ,kBACRI,OAAQ,QA+BGI,UA5BM,SAAC,GAAkC,IAAhCC,EAAgC,EAAhCA,MAChBC,EAAUd,IAEZe,EAAM,GAAH,OAAMF,GACTG,EAAgB,GAIdC,EAAQF,EAAIE,MAAM,sDAKxB,OAJIA,IACFF,EAAM,6BAAH,OAAgCE,EAAM,IACzCD,EAAgBC,EAAM,IAGtB,yBAAKC,UAAWJ,EAAQX,SACrBY,EAAII,MAAM,EAAG,KACbH,EACC,gEAEE,yBAAKE,UAAWJ,EAAQH,UACrBS,KAAKC,UAAUD,KAAKE,MAAMN,GAAgB,KAAM,KAGnD","file":"static/js/56.afbcde18.chunk.js","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n  message: {\n    border: '1px solid black',\n    background: '#f88',\n    overflow: 'auto',\n    maxHeight: 200,\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n  },\n\n  errorBox: {\n    background: 'lightgrey',\n    border: '1px solid black',\n    margin: 20,\n  },\n}))\nconst ErrorMessage = ({ error }: { error: unknown }) => {\n  const classes = useStyles()\n\n  let str = `${error}`\n  let snapshotError = ''\n\n  // best effort to make a better error message than the default\n  // mobx-state-tree\n  const match = str.match(/.*at path \"(.*)\" snapshot `(.*)` is not assignable/)\n  if (match) {\n    str = `Failed to load element at ${match[1]}`\n    snapshotError = match[2]\n  }\n  return (\n    <div className={classes.message}>\n      {str.slice(0, 10000)}\n      {snapshotError ? (\n        <div>\n          ... Failed element had snapshot:\n          <pre className={classes.errorBox}>\n            {JSON.stringify(JSON.parse(snapshotError), null, 2)}\n          </pre>\n        </div>\n      ) : null}\n    </div>\n  )\n}\n\nexport default ErrorMessage\n"],"sourceRoot":""}