this.webpackChunk([15],{1309:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return B}));var n=r(10),a=r(12),i=r(11),s=r(17),c=r(18),u=r(942),o=r(2),l=r.n(o),h=r(6),f=r(5),d=r(944),v=r(964),b=r(661),p=r.n(b),k=r(923),y=r.n(k),g=r(914),m=r.n(g),x=r(15),w=r(966);function j(e,t){return O.apply(this,arguments)}function O(){return O=Object(n.a)(l.a.mark((function e(t,r){var n,a,i,s,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},a=n.defaultContent,i=void 0===a?{}:a,e.prev=2,e.next=5,r(t,{encoding:"utf8"});case 5:return s=e.sent,e.abrupt("return",JSON.parse(s));case 9:if(e.prev=9,e.t0=e.catch(2),"ENOENT"!==e.t0.code&&404!==e.t0.status){e.next=13;break}return e.abrupt("return",i);case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),O.apply(this,arguments)}var C=function(){function e(t){var r=t.readFile,n=t.cacheSize,i=void 0===n?100:n;if(Object(a.a)(this,e),this.topList=[],this.chunkCache=new m.a({cache:new y.a({maxSize:i}),fill:this.readChunkItems.bind(this)}),this.readFile=r,!this.readFile)throw new Error('must provide a "readFile" function')}return Object(i.a)(e,[{key:"importExisting",value:function(e,t,r,n,a){this.topList=e,this.attrs=t,this.start=t.makeFastGetter("Start"),this.end=t.makeFastGetter("End"),this.lazyClass=a,this.baseURL=r,this.lazyUrlTemplate=n}},{key:"binarySearch",value:function(e,t,r){for(var n,a=-1,i=e.length;i-a>1;)r(e[n=a+i>>>1])>=t?i=n:a=n;return r===this.end?i:a}},{key:"readChunkItems",value:function(e){return j(p.a.resolve(this.baseURL,this.lazyUrlTemplate.replace(/\{Chunk\}/gi,e)),this.readFile,{defaultContent:[]})}},{key:"iterateSublist",value:function(e,t,r,n,a,i,s){var c=this;return Object(v.a)(l.a.mark((function o(){var f,v,b,p,k,y,g,m,j,O;return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:f=c.attrs.makeGetter("Chunk"),v=c.attrs.makeGetter("Sublist"),b=[],p=c.binarySearch(e,t,a);case 4:if(!(p<e.length&&p>=0&&n*i(e[p])<n*r)){o.next=17;break}if(e[p][0]!==c.lazyClass){o.next=9;break}!function(){var t=f(e[p]),r=c.chunkCache.get(t,t).then((function(e){return[e,t]}));b.push(r)}(),o.next=11;break;case 9:return o.next=11,[e[p],s.concat(p)];case 11:if(!(k=v(e[p]))){o.next=14;break}return o.delegateYield(Object(w.a)(Object(u.a)(c.iterateSublist(k,t,r,n,a,i,s.concat(p))),d.a),"t0",14);case 14:p+=n,o.next=4;break;case 17:y=0;case 18:if(!(y<b.length)){o.next=30;break}return o.next=21,Object(d.a)(b[y]);case 21:if(g=o.sent,m=Object(h.a)(g,2),j=m[0],O=m[1],!j){o.next=27;break}return o.delegateYield(Object(w.a)(Object(u.a)(c.iterateSublist(j,t,r,n,a,i,[].concat(Object(x.a)(s),[O]))),d.a),"t1",27);case 27:y+=1,o.next=18;break;case 30:case"end":return o.stop()}}),o)})))()}},{key:"iterate",value:function(e,t){var r=this;return Object(v.a)(l.a.mark((function n(){var a,i,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e>t?-1:1,i=e>t?r.start:r.end,s=e>t?r.end:r.start,!(r.topList.length>0)){n.next=5;break}return n.delegateYield(Object(w.a)(Object(u.a)(r.iterateSublist(r.topList,e,t,a,i,s,[0])),d.a),"t0",5);case 5:case"end":return n.stop()}}),n)})))()}},{key:"histogram",value:function(){var e=Object(n.a)(l.a.mark((function e(t,r,n){var a,i,s,c,o,h,f,d,v,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new Array(n)).fill(0),i=(r-t)/n,s=!1,c=!1,e.prev=5,h=Object(u.a)(this.iterate(t,r));case 7:return e.next=9,h.next();case 9:if(!(s=!(f=e.sent).done)){e.next=17;break}for(d=f.value,v=Math.max(0,(this.start(d)-t)/i|0),b=Math.min(n,(this.end(d)-t)/i|0),p=v;p<=b;p+=1)a[p]+=1;case 14:s=!1,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),c=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,!s||null==h.return){e.next=28;break}return e.next=28,h.return();case 28:if(e.prev=28,!c){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[5,19,23,33],[24,,28,32]])})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}(),_=function(){function e(t){Object(a.a)(this,e),this.classes=t,this.fields=[];for(var r=0;r<t.length;r+=1){this.fields[r]={};for(var n=0;n<t[r].attributes.length;n+=1)this.fields[r][t[r].attributes[n]]=n+1;void 0===t[r].proto&&(t[r].proto={}),void 0===t[r].isArrayAttr&&(t[r].isArrayAttr={})}}return Object(i.a)(e,[{key:"attrIndices",value:function(e){return this.classes.map((function(t){return t.attributes.indexOf(e)+1||t.attributes.indexOf(e.toLowerCase())+1||void 0}))}},{key:"get",value:function(e,t){if(t in this.fields[e[0]])return e[this.fields[e[0]][t]];var r=t.toLowerCase();if(r in this.fields[e[0]])return e[this.fields[e[0]][r]];var n=this.classes[e[0]].attributes.length+1;return n>=e.length||!(t in e[n])?t in this.classes[e[0]].proto?this.classes[e[0]].proto[t]:void 0:e[n][t]}},{key:"makeSetter",value:function(e){var t=this;return function(r,n){t.set(r,e,n)}}},{key:"makeGetter",value:function(e){var t=this;return function(r){return t.get(r,e)}}},{key:"makeFastGetter",value:function(e){var t=this.attrIndices(e);return function(e){if(void 0!==t[e[0]])return e[t[e[0]]]}}},{key:"accessors",value:function(){return this._accessors||(this._accessors=this._makeAccessors()),this._accessors}},{key:"_makeAccessors",value:function(){var e={},t={get:function(e){var t=this.get.field_accessors[e.toLowerCase()];if(t)return t.call(this)},set:function(e,t){var r=this.set.field_accessors[e];if(r)return r.call(this,t)},tags:function(){return r[this[0]]||[]}};t.get.field_accessors={},t.set.field_accessors={},this.classes.forEach((function(t,r){(t.attributes||[]).forEach((function(t,n){e[t]=e[t]||[],e[t][r]=n+1,t=t.toLowerCase(),e[t]=e[t]||[],e[t][r]=n+1}))}));var r=this.classes.map((function(e){return e.attributes}));return Object.keys(e).forEach((function(r){var n=e[r];t.get.field_accessors[r]=n?function(){return this[n[this[0]]]}:function(){}})),t}}]),e}(),S=function(){function e(t,r){var n=t.urlTemplate,i=t.chunkSize,s=t.length,c=t.cacheSize,u=void 0===c?100:c,o=t.readFile;if(Object(a.a)(this,e),this.urlTemplate=n,this.chunkSize=i,this.length=s,this.baseUrl=void 0===r?"":r,this.readFile=o,!o)throw new Error("must provide readFile callback");this.chunkCache=new m.a({cache:new y.a({maxSize:u}),fill:this.getChunk.bind(this)})}return Object(i.a)(e,[{key:"index",value:function(e,t,r){this.range(e,e,t,void 0,r)}},{key:"range",value:function(e,t){var r=this;return Object(v.a)(l.a.mark((function n(){var a,i,s,c,o,f,v,b,p;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=Math.max(0,e),t=Math.min(t,r.length-1),a=Math.floor(e/r.chunkSize),i=Math.floor(t/r.chunkSize),s=[],c=a;c<=i;c+=1)s.push(r.chunkCache.get(c,c));o=0;case 7:if(!(o<s.length)){n.next=18;break}return n.next=10,Object(d.a)(s[o]);case 10:return f=n.sent,v=Object(h.a)(f,2),b=v[0],p=v[1],n.delegateYield(Object(w.a)(Object(u.a)(r.filterChunkData(e,t,b,p)),d.a),"t0",15);case 15:o+=1,n.next=7;break;case 18:case"end":return n.stop()}}),n)})))()}},{key:"getChunk",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.urlTemplate.replace(/\{Chunk\}/gi,t),this.baseUrl&&(r=p.a.resolve(this.baseUrl,r)),e.next=4,j(r,this.readFile);case 4:return n=e.sent,e.abrupt("return",[t,n]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterChunkData",value:l.a.mark((function e(t,r,n,a){var i,s,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n*this.chunkSize,s=Math.max(0,t-i),c=Math.min(r-i,this.chunkSize-1),u=s;case 4:if(!(u<=c)){e.next=10;break}return e.next=7,[u+i,a[u]];case 7:u+=1,e.next=4;break;case 10:case"end":return e.stop()}}),e,this)}))}]),e}();function F(){return this._uniqueID}function E(){return this._parent}function T(){return this.get("subfeatures")}var z=function(){function e(t){var r=t.baseUrl,n=t.urlTemplate,i=t.readFile,s=t.cacheSize,c=void 0===s?10:s;if(Object(a.a)(this,e),this.baseUrl=r,this.urlTemplates={root:n},this.readFile=i,!this.readFile)throw new Error('must provide a "readFile" function argument');this.dataRootCache=new m.a({cache:new y.a({maxSize:c}),fill:this.fetchDataRoot.bind(this)})}return Object(i.a)(e,[{key:"makeNCList",value:function(){return new C({readFile:this.readFile})}},{key:"loadNCList",value:function(e,t,r){e.nclist.importExisting(t.intervals.nclist,e.attrs,r,t.intervals.urlTemplate,t.intervals.lazyClass)}},{key:"getDataRoot",value:function(e){return this.dataRootCache.get(e,e)}},{key:"fetchDataRoot",value:function(e){var t=this,r=p.a.resolve(this.baseUrl,this.urlTemplates.root.replace(/{\s*refseq\s*}/g,e));return j(r,this.readFile).then((function(e){return t.parseTrackInfo(e,r)}))}},{key:"parseTrackInfo",value:function(e,t){var r={nclist:this.makeNCList(),stats:{featureCount:e.featureCount||0}};e.intervals&&(r.attrs=new _(e.intervals.classes),this.loadNCList(r,e,t));var n=e.histograms;if(n&&n.meta){for(var a=0;a<n.meta.length;a+=1)n.meta[a].lazyArray=new S(Object(f.a)(Object(f.a)({},n.meta[a].arrayParams),{},{readFile:this.readFile}),t);r._histograms=n}return r._histograms&&Object.keys(r._histograms).forEach((function(e){r._histograms[e].forEach((function(e){Object.keys(e).forEach((function(t){"string"===typeof e[t]&&String(Number(e[t]))===e[t]&&(e[t]=Number(e[t]))}))}))})),r}},{key:"getRegionStats",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataRoot(t.ref);case 2:return r=e.sent,e.abrupt("return",r.stats);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegionFeatureDensities",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r,n,a,i,s,c,o,f,d,v,b,p,k,y,g,m,x,w,j,O,C,_,S;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.refName,n=t.start,a=t.end,i=t.numBins,s=t.basesPerBin,e.next=3,this.getDataRoot(r);case 3:if(c=e.sent,!i){e.next=8;break}s=(a-n)/i,e.next=13;break;case 8:if(!s){e.next=12;break}i=Math.ceil((a-n)/s),e.next=13;break;case 12:throw new TypeError("numBins or basesPerBin arg required for getRegionFeatureDensities");case 13:for(o=c._histograms.stats||[],f=o.find((function(e){return e.basesPerBin>=s})),d=c._histograms.meta[0],v=0;v<c._histograms.meta.length;v+=1)s>=c._histograms.meta[v].basesPerBin&&(d=c._histograms.meta[v]);if(!((b=s/d.basesPerBin)>.9&&Math.abs(b-Math.round(b))<1e-4)){e.next=52;break}for(p=Math.floor(n/d.basesPerBin),b=Math.round(b),k=[],y=0;y<i;y+=1)k[y]=0;g=!1,m=!1,e.prev=25,w=Object(u.a)(d.lazyArray.range(p,p+b*i-1));case 27:return e.next=29,w.next();case 29:if(!(g=!(j=e.sent).done)){e.next=35;break}O=Object(h.a)(j.value,2),C=O[0],_=O[1],k[Math.floor((C-p)/b)]+=_;case 32:g=!1,e.next=27;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(25),m=!0,x=e.t0;case 41:if(e.prev=41,e.prev=42,!g||null==w.return){e.next=46;break}return e.next=46,w.return();case 46:if(e.prev=46,!m){e.next=49;break}throw x;case 49:return e.finish(46);case 50:return e.finish(41);case 51:return e.abrupt("return",{bins:k,stats:f});case 52:return e.next=54,c.nclist.histogram(n,a,i);case 54:return S=e.sent,e.abrupt("return",{bins:S,stats:f});case 56:case"end":return e.stop()}}),e,this,[[25,37,41,51],[42,,46,50]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFeatures",value:function(e){var t=this,r=e.refName,n=e.start,a=e.end;return Object(v.a)(l.a.mark((function e(){var i,s,c,o,f,v,b,p,k,y,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(t.getDataRoot(r));case 2:i=e.sent,s=i.attrs&&i.attrs.accessors(),c=!1,o=!1,e.prev=6,v=Object(u.a)(i.nclist.iterate(n,a));case 8:return e.next=10,Object(d.a)(v.next());case 10:if(!(c=!(b=e.sent).done)){e.next=18;break}return p=Object(h.a)(b.value,2),k=p[0],y=p[1],k.decorated||(g=y.join(","),t.decorateFeature(s,k,"".concat(r,",").concat(g))),e.next=15,k;case 15:c=!1,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),o=!0,f=e.t0;case 24:if(e.prev=24,e.prev=25,!c||null==v.return){e.next=29;break}return e.next=29,Object(d.a)(v.return());case 29:if(e.prev=29,!o){e.next=32;break}throw f;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[6,20,24,34],[25,,29,33]])})))()}},{key:"decorateFeature",value:function(e,t,r,n){var a=this;t.get=e.get,t.tags=e.tags,t._uniqueID=r,t.id=F,t._parent=n,t.parent=E,t.children=T,(t.get("subfeatures")||[]).forEach((function(n,i){a.decorateFeature(e,n,"".concat(r,"-").concat(i),t)})),t.decorated=!0}}]),e}(),A=z,R=r(53),M=r(75),P=r(7),N=r(113),L=r(4),D={refName:"seq_id"},I={seq_id:"refName"},U=function(){function e(t,r,n){Object(a.a)(this,e),this.ncFeature=t,this.parentHandle=void 0,this.uniqueId=void 0,this.uniqueId=n||t.id(),this.parentHandle=r}return Object(i.a)(e,[{key:"set",value:function(){throw new Error("not implemented")}},{key:"jb2TagToJb1Tag",value:function(e){return(D[e]||e).toLowerCase()}},{key:"jb1TagToJb2Tag",value:function(e){var t=e.toLowerCase();return I[t]||t}},{key:"get",value:function(t){var r=this,n=this.ncFeature.get(this.jb2TagToJb1Tag(t));return n&&"subfeatures"===t?n.map((function(t){return new e(t,r)})):n}},{key:"tags",value:function(){var e=this;return this.ncFeature.tags().map((function(t){return e.jb1TagToJb2Tag(t)}))}},{key:"id",value:function(){return this.uniqueId}},{key:"parent",value:function(){return this.parentHandle}},{key:"children",value:function(){return this.get("subfeatures")}},{key:"toJSON",value:function(){var t=this,r={uniqueId:this.id()};return this.ncFeature.tags().forEach((function(n){var a=t.jb1TagToJb2Tag(n),i=t.ncFeature.get(n);"subfeatures"===a?r.subfeatures=(i||[]).map((function(r){return new e(r,t).toJSON()})):r[a]=i})),r}}]),e}(),B=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n,i){var s;Object(a.a)(this,r),(s=t.call(this,e,n,i)).nclist=void 0,s.configRefNames=void 0;var c=Object(L.readConfObject)(e,"refNames"),u=Object(L.readConfObject)(e,"rootUrlTemplate");return s.configRefNames=c,s.nclist=new A({baseUrl:"",urlTemplate:u.uri,readFile:function(e){return new N.RemoteFile(String(u.baseUri?new URL(e,u.baseUri).toString():e)).readFile()}}),s}return Object(i.a)(r,[{key:"getFeatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(M.ObservableCreate)(function(){var a=Object(n.a)(l.a.mark((function n(a){var i,s,c,o,h,f,d;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r.signal,s=!1,c=!1,n.prev=3,h=Object(u.a)(t.nclist.getFeatures(e,r));case 5:return n.next=7,h.next();case 7:if(!(s=!(f=n.sent).done)){n.next=14;break}d=f.value,Object(P.checkAbortSignal)(i),a.next(t.wrapFeature(d));case 11:s=!1,n.next=5;break;case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(3),c=!0,o=n.t0;case 20:if(n.prev=20,n.prev=21,!s||null==h.return){n.next=25;break}return n.next=25,h.return();case 25:if(n.prev=25,!c){n.next=28;break}throw o;case 28:return n.finish(25);case 29:return n.finish(20);case 30:a.complete();case 31:case"end":return n.stop()}}),n,null,[[3,16,20,30],[21,,25,29]])})));return function(e){return a.apply(this,arguments)}}())}},{key:"wrapFeature",value:function(e){return new U(e,void 0,"".concat(this.id,"-").concat(e.id()))}},{key:"hasDataForRefName",value:function(){var e=Object(n.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nclist.getDataRoot(t);case 2:return r=e.sent,e.abrupt("return",!!(r&&r.stats&&r.stats.featureCount));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRefNames",value:function(){return Promise.resolve(this.configRefNames||[])}},{key:"freeResources",value:function(){}}]),r}(R.BaseFeatureDataAdapter)},913:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbortSignal=t.AbortController=void 0;var n=r(333),a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")},i="undefined"===typeof a().AbortController?n.AbortController:a().AbortController;t.AbortController=i;var s="undefined"===typeof a().AbortController?n.AbortSignal:a().AbortSignal;t.AbortSignal=s}).call(this,r(70))},914:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(918));t.default=a.default},918:function(e,t,r){"use strict";var n=r(111).default,a=r(112).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(913),c=i(r(919)),u=i(r(920)),o=function(){function e(t){var r=t.fill,a=t.cache;if(n(this,e),"function"!==typeof r)throw new TypeError("must pass a fill function");if("object"!==typeof a)throw new TypeError("must pass a cache object");if("function"!==typeof a.get||"function"!==typeof a.set||"function"!==typeof a.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=a,this.fillCallback=r}return a(e,[{key:"evict",value:function(e,t){this.cache.get(e)===t&&this.cache.delete(e)}},{key:"fill",value:function(e,t,r,n){var a=this,i=new c.default,s=new u.default;s.addCallback(n);var o={aborter:i,promise:this.fillCallback(t,i.signal,(function(e){s.callback(e)})),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};o.aborter.addSignal(r),o.aborter.signal.addEventListener("abort",(function(){o.settled||a.evict(e,o)})),o.promise.then((function(){o.settled=!0}),(function(){o.settled=!0,a.evict(e,o)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,o)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"get",value:function(t,r,n,a){if(!n&&r instanceof s.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var i=this.cache.get(t);return i?i.aborted&&!i.settled?(this.evict(t,i),this.get(t,r,n,a)):i.settled?i.promise:(i.aborter.addSignal(n),i.statusReporter.addCallback(a),e.checkSinglePromise(i.promise,n)):(this.fill(t,r,n,a),e.checkSinglePromise(this.cache.get(t).promise,n))}},{key:"delete",value:function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}},{key:"clear",value:function(){for(var e=this.cache.keys(),t=0,r=e.next();!r.done;r=e.next())this.delete(r.value),t+=1;return t}}],[{key:"isAbortException",value:function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}},{key:"checkSinglePromise",value:function(e,t){function r(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return r(),e}),(function(e){throw r(),e}))}}]),e}();t.default=o},919:function(e,t,r){"use strict";var n=r(112).default,a=r(111).default;Object.defineProperty(t,"__esModule",{value:!0});var i=r(913),s=n((function e(){a(this,e)})),c=function(){function e(){a(this,e),this.signals=new Set,this.abortController=new i.AbortController}return n(e,[{key:"addSignal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s;if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):"function"===typeof t.addEventListener&&t.addEventListener("abort",(function(){e.handleAborted(t)}))}},{key:"handleAborted",value:function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}},{key:"signal",get:function(){return this.abortController.signal}},{key:"abort",value:function(){this.abortController.abort()}}]),e}();t.default=c},920:function(e,t,r){"use strict";var n=r(111).default,a=r(112).default;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){n(this,e),this.callbacks=new Set}return a(e,[{key:"addCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.callbacks.add(e),e(this.currentMessage)}},{key:"callback",value:function(e){this.currentMessage=e,this.callbacks.forEach((function(t){t(e)}))}}]),e}();t.default=i},923:function(e,t,r){"use strict";var n=r(2),a=r(247).default,i=r(410).default,s=r(111).default,c=r(112).default,u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return c(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:n.mark((function e(){var t,r,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return s=a(r.value,1),c=s[0],e.next=7,c;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:n.mark((function e(){var t,r,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return s=a(r.value,2),c=s[1],e.next=7,c;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:n.mark((function e(){var t,r,s,c,u,o,l,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this.cache),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return s=r.value,e.next=7,s;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:c=i(this.oldCache),e.prev=18,c.s();case 20:if((u=c.n()).done){e.next=28;break}if(o=u.value,l=a(o,1),h=l[0],this.cache.has(h)){e.next=26;break}return e.next=26,o;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),c.e(e.t1);case 33:return e.prev=33,c.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,r=i(this.oldCache.keys());try{for(r.s();!(e=r.n()).done;){var n=e.value;this.cache.has(n)||t++}}catch(a){r.e(a)}finally{r.f()}return this._size+t}}]),t}(Symbol.iterator);e.exports=u},942:function(e,t,r){"use strict";function n(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new a(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new a(e)}r.d(t,"a",(function(){return n}))},944:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(965);function a(e){return new n.a(e)}},964:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(965);function a(e){var t,r;function a(t,r){try{var s=e[t](r),c=s.value,u=c instanceof n.a;Promise.resolve(u?c.wrapped:c).then((function(e){u?a("return"===t?"return":"next",e):i(s.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(o){i("throw",o)}}function i(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(i,s){var c={key:e,arg:n,resolve:i,reject:s,next:null};r?r=r.next=c:(t=r=c,a(e,n))}))},"function"!==typeof e.return&&(this.return=void 0)}function i(e){return function(){return new a(e.apply(this,arguments))}}a.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)}},965:function(e,t,r){"use strict";function n(e){this.wrapped=e}r.d(t,"a",(function(){return n}))},966:function(e,t,r){"use strict";function n(e,t){var r={},n=!1;function a(r,a){return n=!0,a=new Promise((function(t){t(e[r](a))})),{done:!1,value:t(a)}}return r["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):a("next",e)},"function"===typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"===typeof e.return&&(r.return=function(e){return n?(n=!1,e):a("return",e)}),r}r.d(t,"a",(function(){return n}))}});
//# sourceMappingURL=15.aa3f117980c15500c977.worker.js.map