this.webpackChunk([19,20],{1057:function(e,t,n){"use strict";(function(e){var r=n(2),a=n(111).default,i=n(112).default,s=n(653).default;Object.defineProperty(t,"__esModule",{value:!0});var c=n(113);function u(e,t){return e.offset+e.lineBytes*Math.floor(t/e.lineLength)+t%e.lineLength}function o(e,t){return f.apply(this,arguments)}function f(){return(f=s(r.mark((function e(t,n){var a,i,s,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile(n);case 2:if((a=e.sent)&&a.length){e.next=5;break}throw new Error("No data read from FASTA index (FAI) file");case 5:return i=0,c=a.toString("utf8").split(/\r?\n/).filter((function(e){return/\S/.test(e)})).map((function(e){return e.split("\t")})).filter((function(e){return""!==e[0]})).map((function(e){return s&&s.name===e[0]||(s={name:e[0],id:i},i+=1),{id:s.id,name:e[0],length:+e[1],start:0,end:+e[1],offset:+e[2],lineLength:+e[3],lineBytes:+e[4]}})),e.abrupt("return",{name:Object.fromEntries(c.map((function(e){return[e.name,e]}))),id:Object.fromEntries(c.map((function(e){return[e.id,e]})))});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(){function t(e){var n=e.fasta,r=e.fai,i=e.path,s=e.faiPath,u=e.chunkSizeLimit,o=void 0===u?1e6:u;if(a(this,t),n)this.fasta=n;else{if(!i)throw new Error("Need to pass filehandle for fasta or path to localfile");this.fasta=new c.LocalFile(i)}if(r)this.fai=r;else if(s)this.fai=new c.LocalFile(s);else{if(!i)throw new Error("Need to pass filehandle for  or path to localfile");this.fai=new c.LocalFile("".concat(i,".fai"))}this.chunkSizeLimit=o}return i(t,[{key:"_getIndexes",value:function(){var e=s(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.indexes||(this.indexes=o(this.fai,t)),e.abrupt("return",this.indexes);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSequenceNames",value:function(){var e=s(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,this._getIndexes(t);case 3:return e.t1=e.sent.name,e.abrupt("return",e.t0.keys.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSequenceSizes",value:function(){var e=s(r.mark((function e(t){var n,a,i,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,this._getIndexes(t);case 3:for(a=e.sent,i=Object.values(a.id),s=0;s<i.length;s+=1)n[i[s].name]=i[s].length;return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSequenceSize",value:function(){var e=s(r.mark((function e(t,n){var a,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getIndexes(n);case 2:return i=e.sent,e.abrupt("return",null===(a=i.name[t])||void 0===a?void 0:a.length);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hasReferenceSequence",value:function(){var e=s(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getIndexes(n);case 2:return e.t0=t,e.abrupt("return",!!e.sent.name[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getResiduesById",value:function(){var e=s(r.mark((function e(t,n,a,i){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getIndexes(i);case 2:if(e.t0=t,s=e.sent.id[e.t0]){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",this._fetchFromIndexEntry(s,n,a,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getResiduesByName",value:function(){var e=s(r.mark((function e(t,n,a,i){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getIndexes(i);case 2:if(e.t0=t,s=e.sent.name[e.t0]){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",this._fetchFromIndexEntry(s,n,a,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getSequence",value:function(){var e=s(r.mark((function e(t,n,a,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getResiduesByName(t,n,a,i));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_fetchFromIndexEntry",value:function(){var t=s(r.mark((function t(n){var a,i,s,c,o,f,l,h=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:0,i=h.length>2?h[2]:void 0,s=h.length>3?h[3]:void 0,c=i,!(a<0)){t.next=6;break}throw new TypeError("regionStart cannot be less than 0");case 6:if((void 0===c||c>n.length)&&(c=n.length),!(a>=c)){t.next=9;break}return t.abrupt("return","");case 9:if(o=u(n,a),!((f=u(n,c)-o)>this.chunkSizeLimit)){t.next=13;break}throw new Error("data size of ".concat(f.toLocaleString()," bytes exceeded chunk size limit of ").concat(this.chunkSizeLimit.toLocaleString()," bytes"));case 13:return l=e.allocUnsafe(f),t.next=16,this.fasta.read(l,0,f,o,s);case 16:return t.abrupt("return",l.toString("utf8").replace(/\s+/g,""));case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();t.default=l}).call(this,n(64).Buffer)},1061:function(e,t,n){"use strict";var r=n(2),a=n(653).default,i=n(111).default,s=n(112).default,c=n(664).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BgzipIndexedFasta=t.IndexedFasta=t.FetchableSmallFasta=t.parseSmallFasta=void 0;var o=u(n(438)),f=n(113),l=u(n(1199));t.BgzipIndexedFasta=l.default;var h=u(n(1057));function d(e){return e.split(">").filter((function(e){return/\S/.test(e)})).map((function(e){var t=e.split("\n"),n=c(t),r=n[0],a=n.slice(1),i=r.split(" "),s=c(i),u=s[0],o=s.slice(1),f=a.join("").replace(/\s/g,"");return{id:u,description:o.join(" "),sequence:f}}))}t.IndexedFasta=h.default,Object.fromEntries||o.default.shim(),t.parseSmallFasta=d;var p=function(){function e(t){var n=t.fasta,r=t.path;if(i(this,e),n)this.fasta=n;else{if(!r)throw new Error("Need to pass fasta or path");this.fasta=new f.LocalFile(r)}this.data=this.fasta.readFile().then((function(e){return d(e.toString("utf8"))}))}return s(e,[{key:"fetch",value:function(){var e=a(r.mark((function e(t,n,a){var i,s,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data;case 2:if(i=e.sent,s=i.find((function(e){return e.id===t})),c=a-n,s){e.next=7;break}throw new Error("no sequence with id ".concat(t," exists"));case 7:return e.abrupt("return",s.sequence.substr(n,c));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getSequenceNames",value:function(){var e=a(r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data;case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.FetchableSmallFasta=p},1199:function(e,t,n){"use strict";var r=n(112).default,a=n(111).default,i=n(405).default,s=n(408).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(120),o=function(e){i(n,e);var t=s(n);function n(e){var r,i=e.fasta,s=e.path,c=e.fai,o=e.faiPath,f=e.gzi,l=e.gziPath,h=e.chunkSizeLimit;return a(this,n),r=t.call(this,{fasta:i,path:s,fai:c,faiPath:o,chunkSizeLimit:h}),i&&f?r.fasta=new u.BgzfFilehandle({filehandle:i,gziFilehandle:f}):s&&l&&(r.fasta=new u.BgzfFilehandle({path:s,gziPath:l})),r}return r(n)}(c(n(1057)).default);t.default=o},1215:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(5),a=n(10),i=n(12),s=n(11),c=n(17),u=n(18),o=n(2),f=n.n(o),l=n(1061),h=n(53),d=n(41),p=n(75),v=n(47),b=n(4),g=n(914),k=n.n(g),y=n(6),m=n(23),w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(i.a)(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return Object(s.a)(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size+=1,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&(this._size-=1),this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:f.a.mark((function e(){var t,n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(m.a)(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Object(y.a)(n.value,1),a=r[0],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:f.a.mark((function e(){var t,n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(m.a)(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=Object(y.a)(n.value,2),a=r[1],e.next=7,a;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:f.a.mark((function e(){var t,n,r,a,i,s,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(m.a)(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:a=Object(m.a)(this.oldCache),e.prev=18,a.s();case 20:if((i=a.n()).done){e.next=28;break}if(s=i.value,c=Object(y.a)(s,1),u=c[0],this.cache.has(u)){e.next=26;break}return e.next=26,s;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),a.e(e.t1);case 33:return e.prev=33,a.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=Object(m.a)(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||(t+=1)}}catch(a){n.e(a)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator),x=w,j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,s,c){var u;Object(i.a)(this,n),(u=t.call(this,e,s,c)).fasta=void 0,u.seqCache=new k.a({cache:new x({maxSize:200}),fill:function(){var e=Object(a.a)(f.a.mark((function e(t,n){var a,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.refName,i=t.start,s=t.end,e.abrupt("return",u.fasta.getSequence(a,i,s,Object(r.a)(Object(r.a)({},t),{},{signal:n})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});var o=Object(b.readConfObject)(e,"fastaLocation"),h=Object(b.readConfObject)(e,"faiLocation"),p={fasta:Object(d.openLocation)(o,u.pluginManager),fai:Object(d.openLocation)(h,u.pluginManager)};return u.fasta=new l.IndexedFasta(p),u}return Object(s.a)(n,[{key:"getRefNames",value:function(e){return this.fasta.getSequenceNames(e)}},{key:"getRegions",value:function(){var e=Object(a.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fasta.getSequenceSizes(t);case 2:return n=e.sent,e.abrupt("return",Object.keys(n).map((function(e){return{refName:e,start:0,end:n[e]}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFeatures",value:function(e,t){var n=this,r=e.refName,i=e.start,s=e.end;return Object(p.ObservableCreate)(function(){var e=Object(a.a)(f.a.mark((function e(a){var c,u,o,l,h,d,p,b,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fasta.getSequenceSize(r,t);case 2:for(c=e.sent,u=void 0!==c?Math.min(c,s):s,o=[],d=s+((l=128e3)-s%l),p=h=i-i%l;p<d;p+=l)b={refName:r,start:p,end:p+l},o.push(n.seqCache.get(JSON.stringify(b),b,null===t||void 0===t?void 0:t.signal));return e.next=11,Promise.all(o);case 11:(g=e.sent.join("").slice(i-h).slice(0,s-i))&&a.next(new v.a({id:"".concat(r," ").concat(i,"-").concat(u),data:{refName:r,start:i,end:u,seq:g}})),a.complete();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),n}(h.BaseSequenceAdapter)},1295:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(11),a=n(12),i=n(17),s=n(18),c=n(1061),u=n(41),o=n(4),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var s;Object(a.a)(this,n),s=t.call(this,e,r,i);var f=Object(o.readConfObject)(e,"fastaLocation"),l=Object(o.readConfObject)(e,"faiLocation"),h=Object(o.readConfObject)(e,"gziLocation");if(!f)throw new Error("must provide fastaLocation");if(!l)throw new Error("must provide faiLocation");if(!h)throw new Error("must provide gziLocation");var d={fasta:Object(u.openLocation)(f,s.pluginManager),fai:Object(u.openLocation)(l,s.pluginManager),gzi:Object(u.openLocation)(h,s.pluginManager)};return s.fasta=new c.BgzipIndexedFasta(d),s}return Object(r.a)(n)}(n(1215).default)},913:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbortSignal=t.AbortController=void 0;var r=n(333),a=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")},i="undefined"===typeof a().AbortController?r.AbortController:a().AbortController;t.AbortController=i;var s="undefined"===typeof a().AbortController?r.AbortSignal:a().AbortSignal;t.AbortSignal=s}).call(this,n(70))},914:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(918));t.default=a.default},918:function(e,t,n){"use strict";var r=n(111).default,a=n(112).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(913),c=i(n(919)),u=i(n(920)),o=function(){function e(t){var n=t.fill,a=t.cache;if(r(this,e),"function"!==typeof n)throw new TypeError("must pass a fill function");if("object"!==typeof a)throw new TypeError("must pass a cache object");if("function"!==typeof a.get||"function"!==typeof a.set||"function"!==typeof a.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=a,this.fillCallback=n}return a(e,[{key:"evict",value:function(e,t){this.cache.get(e)===t&&this.cache.delete(e)}},{key:"fill",value:function(e,t,n,r){var a=this,i=new c.default,s=new u.default;s.addCallback(r);var o={aborter:i,promise:this.fillCallback(t,i.signal,(function(e){s.callback(e)})),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};o.aborter.addSignal(n),o.aborter.signal.addEventListener("abort",(function(){o.settled||a.evict(e,o)})),o.promise.then((function(){o.settled=!0}),(function(){o.settled=!0,a.evict(e,o)})).catch((function(e){throw console.error(e),e})),this.cache.set(e,o)}},{key:"has",value:function(e){return this.cache.has(e)}},{key:"get",value:function(t,n,r,a){if(!r&&n instanceof s.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");var i=this.cache.get(t);return i?i.aborted&&!i.settled?(this.evict(t,i),this.get(t,n,r,a)):i.settled?i.promise:(i.aborter.addSignal(r),i.statusReporter.addCallback(a),e.checkSinglePromise(i.promise,r)):(this.fill(t,n,r,a),e.checkSinglePromise(this.cache.get(t).promise,r))}},{key:"delete",value:function(e){var t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}},{key:"clear",value:function(){for(var e=this.cache.keys(),t=0,n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t}}],[{key:"isAbortException",value:function(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}},{key:"checkSinglePromise",value:function(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((function(e){return n(),e}),(function(e){throw n(),e}))}}]),e}();t.default=o},919:function(e,t,n){"use strict";var r=n(112).default,a=n(111).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(913),s=r((function e(){a(this,e)})),c=function(){function e(){a(this,e),this.signals=new Set,this.abortController=new i.AbortController}return r(e,[{key:"addSignal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s;if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):"function"===typeof t.addEventListener&&t.addEventListener("abort",(function(){e.handleAborted(t)}))}},{key:"handleAborted",value:function(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}},{key:"signal",get:function(){return this.abortController.signal}},{key:"abort",value:function(){this.abortController.abort()}}]),e}();t.default=c},920:function(e,t,n){"use strict";var r=n(111).default,a=n(112).default;Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){r(this,e),this.callbacks=new Set}return a(e,[{key:"addCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.callbacks.add(e),e(this.currentMessage)}},{key:"callback",value:function(e){this.currentMessage=e,this.callbacks.forEach((function(t){t(e)}))}}]),e}();t.default=i}});
//# sourceMappingURL=19.aa3f117980c15500c977.worker.js.map