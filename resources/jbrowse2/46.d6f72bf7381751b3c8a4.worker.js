this.webpackChunk([46],{2146:function(e,a,t){"use strict";t.r(a);var r=t(5),n=t.n(r),c=t(4),l=t(10),o=t(7),i=t(0),s=t.n(i),d=t(210),p=t(91),u=t(862),m=t(859),v=t(860),f=t(861),g=t(159),y=t(6),b=t(3),h=t(14),k=t(872),E=t(809),N=t(113),w=t(239),O=t(858),T=t(1),j=t(19),M=Object(d.a)((function(e){return{spacing:{marginBottom:e.spacing(3)}}}));function S(e){var a,t=e.trackAdapter,r=e.trackType,n=M();return"SNPCoverageAdapter"===t.type?s.a.createElement(p.a,{className:n.spacing},"Selected ",s.a.createElement("code",null,r),". Using adapter"," ",s.a.createElement("code",null,t.type)," with subadapter"," ",s.a.createElement("code",null,null===(a=t.subadapter)||void 0===a?void 0:a.type),". Please enter a track name and, if necessary, update the track type."):s.a.createElement(p.a,{className:n.spacing},"Using adapter ",s.a.createElement("code",null,t.type)," and guessing track type"," ",s.a.createElement("code",null,r),". Please enter a track name and, if necessary, update the track type.")}var C=Object(h.observer)((function(e){var a=e.model,t=M(),r=Object(y.getSession)(a),n=a.trackAdapter,c=Object(T.getEnv)(r).pluginManager.getElementTypesInGroup("adapter");return s.a.createElement(w.a,{className:t.spacing,value:"UNKNOWN"!==(null===n||void 0===n?void 0:n.type)?null===n||void 0===n?void 0:n.type:"",label:"adapterType",helperText:"Select an adapter type",select:!0,fullWidth:!0,onChange:function(e){return a.setAdapterHint(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"adapterTypeSelect"}}},c.filter((function(e){var a,t;return!(null===(a=e.adapterMetadata)||void 0===a?void 0:a.hiddenFromGUI)&&!(null===(t=e.adapterMetadata)||void 0===t?void 0:t.category)})).map((function(e){var a,t;return s.a.createElement(N.a,{key:e.name,value:e.name},(null===(a=e.adapterMetadata)||void 0===a?void 0:a.displayName)?null===(t=e.adapterMetadata)||void 0===t?void 0:t.displayName:e.name)})),function(e){var a="",t=[];return e.forEach((function(e){var r,n,c,l,o,i,d,p;(null===(r=e.adapterMetadata)||void 0===r?void 0:r.category)&&(a!==(null===(n=e.adapterMetadata)||void 0===n?void 0:n.category)&&(a=null===(o=e.adapterMetadata)||void 0===o?void 0:o.category,t.push(s.a.createElement(E.a,{key:null===(i=e.adapterMetadata)||void 0===i?void 0:i.category,value:null===(d=e.adapterMetadata)||void 0===d?void 0:d.category},null===(p=e.adapterMetadata)||void 0===p?void 0:p.category))),t.push(s.a.createElement(N.a,{key:e.name,value:e.name},(null===(c=e.adapterMetadata)||void 0===c?void 0:c.displayName)?null===(l=e.adapterMetadata)||void 0===l?void 0:l.displayName:e.name)))})),t}(c.filter((function(e){var a;return!(null===(a=e.adapterMetadata)||void 0===a?void 0:a.hiddenFromGUI)}))))}));function x(e){var a=e.model,t=M();return s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{className:t.spacing},"JBrowse was not able to guess the adapter type for this data, but it may be in the list below. If not, you can"," ",s.a.createElement(O.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse to see if they support this data type or"," ",s.a.createElement(O.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."),s.a.createElement(C,{model:a}))}var D=Object(h.observer)((function(e){var a=e.model,t=M(),r=Object(y.getSession)(a),n=a.trackType,c=Object(T.getEnv)(r).pluginManager.getElementTypesInGroup("track");return s.a.createElement(w.a,{className:t.spacing,value:n,label:"trackType",helperText:"Select a track type",select:!0,fullWidth:!0,onChange:function(e){a.setTrackType(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"trackTypeSelect"}}},c.map((function(e){var a=e.name;return s.a.createElement(N.a,{key:a,value:a},a)})))})),A=Object(h.observer)((function(e){var a=e.model,t=Object(y.getSession)(a),r=a.assembly;return s.a.createElement(w.a,{value:r,label:"assemblyName",helperText:"Assembly to which the track will be added",select:!0,fullWidth:!0,onChange:function(e){return a.setAssembly(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"assemblyNameSelect"}}},t.assemblies.map((function(e){return Object(b.readConfObject)(e,"name")})).map((function(e){return s.a.createElement(N.a,{key:e,value:e},e)})))}));var I=Object(h.observer)((function(e){var a=e.model,t=M(),r=a.trackName,n=a.trackAdapter,c=a.trackType,l=a.warningMessage,o=a.adapterHint;return a.unsupported?s.a.createElement(p.a,{className:t.spacing},"This version of JBrowse cannot display data of this type. It is possible, however, that there is a newer version that can display them. You can"," ",s.a.createElement(O.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse or"," ",s.a.createElement(O.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."):(null===n||void 0===n?void 0:n.type)===j.UNKNOWN?s.a.createElement(x,{model:a}):(""===o&&n&&a.setAdapterHint(n.type),(null===n||void 0===n?void 0:n.type)?s.a.createElement("div",null,n?s.a.createElement(S,{trackAdapter:n,trackType:c}):null,l?s.a.createElement(p.a,{style:{color:"orange"}},l):null,s.a.createElement(w.a,{className:t.spacing,label:"trackName",helperText:"A name for this track",fullWidth:!0,value:r,onChange:function(e){return a.setTrackName(e.target.value)},inputProps:{"data-testid":"trackNameInput"}}),s.a.createElement(C,{model:a}),s.a.createElement(D,{model:a}),s.a.createElement(A,{model:a})):s.a.createElement(p.a,null,"Could not recognize this data type."))})),P=t(53),U=t(139),B=Object(d.a)((function(e){return{paper:{display:"flex",flexDirection:"column",padding:e.spacing(1)},spacer:{height:e.spacing(8)}}}));var G=Object(h.observer)((function(e){var a=e.model,t=B(),r=Object(T.getRoot)(a);return s.a.createElement(U.a,{className:t.paper},s.a.createElement(P.FileSelector,{name:"Main file",description:"",location:a.trackData,setLocation:a.setTrackData,setName:a.setTrackName,rootModel:r}),s.a.createElement("div",{className:t.spacer}),s.a.createElement(P.FileSelector,{name:"Index file",description:"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.",location:a.indexTrackData,setLocation:a.setIndexTrackData,setName:a.setTrackName,rootModel:r}))})),W=Object(d.a)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},stepContent:{margin:e.spacing(1)},alertContainer:{padding:"".concat(e.spacing(2),"px 0px ").concat(e.spacing(2),"px 0px")}}})),F=["Enter track data","Confirm track type"];a.default=Object(h.observer)((function(e){var a=e.model,t=Object(i.useState)(0),r=Object(o.a)(t,2),d=r[0],h=r[1],E=W(),N=Object(y.getSession)(a),w=a.assembly,O=a.trackAdapter,T=a.trackData,j=a.trackName,M=a.trackType,S=Object(i.useState)(),C=Object(o.a)(S,2),x=C[0],D=C[1];function A(){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===F.length-1){e.next=3;break}return h(d+1),e.abrupt("return");case 3:t="".concat(j.toLowerCase().replace(/ /g,"_"),"-").concat(Date.now()).concat(N.adminMode?"":"-sessionTrack"),r=N.assemblyManager.get(w),O&&"UNKNOWN"!==O.type?(N.addTrackConf({trackId:t,type:M,name:j,assemblyNames:[w],adapter:Object(c.a)(Object(c.a)({},O),{},{sequenceAdapter:Object(b.getConf)(r,["sequence","adapter"])})}),a.view?a.view.showTrack(t):N.notify("Open a new view, or use the track selector in an existing view, to view this track","info"),a.clearData(),N.hideWidget(a)):D("Failed to add track.\nThe configuration of this file is not currently supported.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){D(void 0),h(d-1)}function B(){switch(d){case 0:return!T;case 1:return!(j&&M&&(null===O||void 0===O?void 0:O.type)&&w);default:return!0}}return s.a.createElement("div",{className:E.root},s.a.createElement(u.a,{className:E.stepper,activeStep:d,orientation:"vertical"},F.map((function(e,t){return s.a.createElement(m.a,{key:e},s.a.createElement(v.a,null,e),s.a.createElement(f.a,null,function(e){switch(e){case 0:return s.a.createElement(G,{model:a});case 1:return s.a.createElement(I,{model:a});default:return s.a.createElement(p.a,null,"Unknown step")}}(t),s.a.createElement("div",{className:E.actionsContainer},s.a.createElement(g.a,{disabled:0===d,onClick:U,className:E.button},"Back"),s.a.createElement(g.a,{disabled:B(),variant:"contained",color:"primary",onClick:A,className:E.button,"data-testid":"addTrackNextButton"},d===F.length-1?"Add":"Next")),x?s.a.createElement("div",{className:E.alertContainer},s.a.createElement(k.a,{severity:"error"},x)):null))}))))}))}});
//# sourceMappingURL=46.d6f72bf7381751b3c8a4.worker.js.map