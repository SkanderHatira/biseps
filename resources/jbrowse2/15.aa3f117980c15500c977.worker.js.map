{"version":3,"sources":["../../src/util.ts","../../src/nclist.ts","../../src/array_representation.ts","../../src/lazy_array.ts","../../src/feature_store.ts","../../src/index.ts","../../../plugins/legacy-jbrowse/src/NCListAdapter/NCListFeature.ts","../../../plugins/legacy-jbrowse/src/NCListAdapter/NCListAdapter.ts","../../../node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js","../../../node_modules/abortable-promise-cache/esm/index.js","../../../node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js","../../../node_modules/abortable-promise-cache/esm/AggregateAbortController.js","../../../node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js","../../../node_modules/quick-lru/index.js","../../../node_modules/@babel/runtime/helpers/esm/asyncIterator.js","../../../node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","../../../node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","../../../node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","../../../node_modules/@babel/runtime/helpers/esm/AwaitValue.js","../../../node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js"],"names":["readJSON","url","readFile","options","defaultContent","encoding","str","JSON","parse","code","status","NCList","cacheSize","topList","chunkCache","AbortablePromiseCache","cache","QuickLRU","maxSize","fill","readChunkItems","bind","Error","nclist","attrs","baseURL","lazyUrlTemplate","lazyClass","start","makeFastGetter","end","arr","item","getter","mid","low","high","length","chunkNum","nodeUrl","resolve","replace","from","to","inc","searchGet","testGet","path","getChunk","makeGetter","getSublist","pendingPromises","i","binarySearch","chunkItemsP","get","then","push","concat","sublist","iterateSublist","numBins","result","Array","binWidth","iterate","feat","firstBin","Math","max","lastBin","min","bin","ArrayRepr","classes","fields","cl","f","attributes","undefined","proto","isArrayAttr","attr","map","x","indexOf","toLowerCase","obj","lcattr","adhocIndex","val","set","indices","attrIndices","_accessors","_makeAccessors","accessors","field","field_accessors","call","tags","forEach","cdef","classnum","attrname","offset","c","Object","keys","LazyArray","baseUrl","urlTemplate","chunkSize","callback","param","range","firstChunk","floor","lastChunk","chunkreadFiles","chunk","chunkNumber","chunkData","filterChunkData","data","queryStart","queryEnd","firstIndex","chunkStart","chunkEnd","idfunc","_uniqueID","parentfunc","_parent","childrenfunc","NCListStore","urlTemplates","root","dataRootCache","fetchDataRoot","GenericNCList","refData","trackInfo","listUrl","importExisting","intervals","refName","parseTrackInfo","makeNCList","stats","featureCount","loadNCList","histograms","meta","lazyArray","arrayParams","_histograms","key","entry","key2","String","Number","query","getDataRoot","ref","basesPerBin","ceil","TypeError","statEntry","find","histogramMeta","binRatio","abs","round","firstServerBin","histogram","bins","hist","feature","decorated","uniqueID","join","decorateFeature","id","parent","children","jb2ToJb1","jb1ToJb2","seq_id","NCListFeature","ncFeature","parentHandle","uniqueId","this","tag","t","attrName","jb2TagToJb1Tag","subfeature","jb1TagToJb2Tag","mappedTag","value","subfeatures","toJSON","NCListAdapter","config","getSubAdapter","pluginManager","configRefNames","refNames","readConfObject","rootUrlTemplate","uri","RemoteFile","baseUri","URL","toString","region","opts","ObservableCreate","observer","a","signal","getFeatures","checkAbortSignal","next","wrapFeature","complete","Promise","BaseFeatureDataAdapter","defineProperty","exports","AbortSignal","AbortController","cjs_ponyfill_1","require","getGlobal","self","window","global","__importDefault","mod","__esModule","AbortablePromiseCache_1","default","abortcontroller_ponyfill_1","AggregateAbortController_1","AggregateStatusReporter_1","delete","fillCallback","statusCallback","aborter","statusReporter","addCallback","newEntry","promise","message","settled","aborted","addSignal","addEventListener","evict","catch","e","console","error","has","cacheEntry","checkSinglePromise","cachedEntry","abort","keyIter","deleteCount","done","exception","name","checkForSingleAbort","assign","NullSignal","AggregateAbortController","signals","Set","abortController","add","handleAborted","size","AggregateStatusReporter","callbacks","currentMessage","elt","Map","oldCache","_size","_set","deleted","clear","oldCacheSize","Symbol","iterator","module","_asyncIterator","iterable","method","async","sync","retry","asyncIterator","AsyncFromSyncIterator","s","AsyncFromSyncIteratorContinuation","r","reject","n","prototype","apply","arguments","ret","thr","_awaitAsyncGenerator","AsyncGenerator","gen","front","back","resume","arg","wrappedAwait","AwaitValue","wrapped","settle","err","type","_invoke","request","_wrapAsyncGenerator","fn","_AwaitValue","_asyncGeneratorDelegate","inner","awaitWrap","iter","waiting","pump"],"mappings":"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","file":"15.aa3f117980c15500c977.worker.js","sourcesContent":[null,null,null,null,null,null,"import {\n  Feature,\n  SimpleFeatureSerialized,\n} from '@jbrowse/core/util/simpleFeature'\n\nconst jb2ToJb1 = { refName: 'seq_id' }\n\nconst jb1ToJb2 = { seq_id: 'refName' }\n\n/**\n * wrapper to adapt nclist features to act like jbrowse 2 features\n */\nexport default class NCListFeature implements Feature {\n  private parentHandle?: Feature\n\n  private uniqueId: string\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  constructor(private ncFeature: any, parent?: Feature, id?: string) {\n    this.uniqueId = id || ncFeature.id()\n    this.parentHandle = parent\n  }\n\n  set(): void {\n    throw new Error('not implemented')\n  }\n\n  jb2TagToJb1Tag(tag: string): string {\n    // @ts-ignore\n    const mapped = jb2ToJb1[tag] || tag\n    return mapped.toLowerCase()\n  }\n\n  jb1TagToJb2Tag(tag: string): string {\n    const t = tag.toLowerCase()\n    // @ts-ignore\n    const mapped = jb1ToJb2[t] || t\n    return mapped\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get(attrName: string): any {\n    const attr = this.ncFeature.get(this.jb2TagToJb1Tag(attrName))\n    if (attr && attrName === 'subfeatures') {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return attr.map((subfeature: any) => new NCListFeature(subfeature, this))\n    }\n    return attr\n  }\n\n  /**\n   * Get an array listing which data keys are present in this feature.\n   */\n  tags(): string[] {\n    return this.ncFeature.tags().map((t: string) => this.jb1TagToJb2Tag(t))\n  }\n\n  /**\n   * Get the unique ID of this feature.\n   */\n  id(): string {\n    return this.uniqueId\n  }\n\n  /**\n   * Get this feature's parent feature, or undefined if none.\n   */\n  parent(): Feature | undefined {\n    return this.parentHandle\n  }\n\n  /**\n   * Get an array of child features, or undefined if none.\n   */\n  children(): Feature[] | undefined {\n    return this.get('subfeatures')\n  }\n\n  toJSON(): SimpleFeatureSerialized {\n    const data: SimpleFeatureSerialized = { uniqueId: this.id() }\n    this.ncFeature.tags().forEach((tag: string) => {\n      const mappedTag = this.jb1TagToJb2Tag(tag)\n      const value = this.ncFeature.get(tag)\n      if (mappedTag === 'subfeatures') {\n        data.subfeatures = (value || []).map((f: Feature) => {\n          // note: was new NCListFeature(f, `${this.id()}-${i}`, this).toJSON()\n          return new NCListFeature(f, this).toJSON()\n        })\n      } else {\n        data[mappedTag] = value\n      }\n    })\n    return data\n  }\n}\n","import NCListStore from '@gmod/nclist'\nimport { Region } from '@jbrowse/core/util/types'\nimport {\n  BaseFeatureDataAdapter,\n  BaseOptions,\n} from '@jbrowse/core/data_adapters/BaseAdapter'\nimport { Feature } from '@jbrowse/core/util/simpleFeature'\nimport { ObservableCreate } from '@jbrowse/core/util/rxjs'\nimport { checkAbortSignal } from '@jbrowse/core/util'\nimport { RemoteFile } from 'generic-filehandle'\nimport { Instance } from 'mobx-state-tree'\nimport { readConfObject } from '@jbrowse/core/configuration'\nimport NCListFeature from './NCListFeature'\nimport MyConfigSchema from './configSchema'\nimport PluginManager from '@jbrowse/core/PluginManager'\nimport { getSubAdapterType } from '@jbrowse/core/data_adapters/dataAdapterCache'\n\nexport default class NCListAdapter extends BaseFeatureDataAdapter {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  private nclist: any\n\n  private configRefNames?: string[]\n\n  constructor(\n    config: Instance<typeof MyConfigSchema>,\n    getSubAdapter?: getSubAdapterType,\n    pluginManager?: PluginManager,\n  ) {\n    super(config, getSubAdapter, pluginManager)\n    const refNames = readConfObject(config, 'refNames')\n    const rootUrlTemplate = readConfObject(config, 'rootUrlTemplate')\n    this.configRefNames = refNames\n\n    this.nclist = new NCListStore({\n      baseUrl: '',\n      urlTemplate: rootUrlTemplate.uri,\n      readFile: (url: string) =>\n        new RemoteFile(\n          String(\n            rootUrlTemplate.baseUri\n              ? new URL(url, rootUrlTemplate.baseUri).toString()\n              : url,\n          ),\n        ).readFile(),\n    })\n  }\n\n  /**\n   * Fetch features for a certain region. Use getFeaturesInRegion() if you also\n   * want to verify that the store has features for the given reference sequence\n   * before fetching.\n   * @param region -\n   * @param opts - [signal] optional signalling object for aborting the fetch\n   * @returns Observable of Feature objects in the region\n   */\n  getFeatures(region: Region, opts: BaseOptions = {}) {\n    return ObservableCreate<Feature>(async observer => {\n      const { signal } = opts\n      for await (const feature of this.nclist.getFeatures(region, opts)) {\n        checkAbortSignal(signal)\n        observer.next(this.wrapFeature(feature))\n      }\n      observer.complete()\n    })\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  wrapFeature(ncFeature: any): NCListFeature {\n    return new NCListFeature(\n      ncFeature,\n      undefined,\n      `${this.id}-${ncFeature.id()}`,\n    )\n  }\n\n  async hasDataForRefName(refName: string) {\n    const root = await this.nclist.getDataRoot(refName)\n    return !!(root && root.stats && root.stats.featureCount)\n  }\n\n  /*\n   * NCList is unable to get list of ref names so returns empty\n   * @return Promise<string[]> of empty list\n   */\n  getRefNames() {\n    return Promise.resolve(this.configRefNames || [])\n  }\n\n  /**\n   * called to provide a hint that data tied to a certain region\n   * will not be needed for the forseeable future and can be purged\n   * from caches, etc\n   */\n  freeResources() {}\n}\n","\"use strict\";\n/* eslint-disable */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbortSignal = exports.AbortController = void 0;\nconst cjs_ponyfill_1 = require(\"abortcontroller-polyfill/dist/cjs-ponyfill\");\nvar getGlobal = function () {\n    // the only reliable means to get the global object is\n    // `Function('return this')()`\n    // However, this causes CSP violations in Chrome apps.\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    throw new Error('unable to locate global object');\n};\n//@ts-ignore\nlet AbortController = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortController : getGlobal().AbortController;\nexports.AbortController = AbortController;\n//@ts-ignore\nlet AbortSignal = typeof getGlobal().AbortController === 'undefined' ? cjs_ponyfill_1.AbortSignal : getGlobal().AbortSignal;\nexports.AbortSignal = AbortSignal;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst AbortablePromiseCache_1 = __importDefault(require(\"./AbortablePromiseCache\"));\nexports.default = AbortablePromiseCache_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nconst AggregateAbortController_1 = __importDefault(require(\"./AggregateAbortController\"));\nconst AggregateStatusReporter_1 = __importDefault(require(\"./AggregateStatusReporter\"));\nclass AbortablePromiseCache {\n    constructor({ fill, cache, }) {\n        if (typeof fill !== 'function') {\n            throw new TypeError('must pass a fill function');\n        }\n        if (typeof cache !== 'object') {\n            throw new TypeError('must pass a cache object');\n        }\n        if (typeof cache.get !== 'function' ||\n            typeof cache.set !== 'function' ||\n            typeof cache.delete !== 'function') {\n            throw new TypeError('cache must implement get(key), set(key, val), and and delete(key)');\n        }\n        this.cache = cache;\n        this.fillCallback = fill;\n    }\n    static isAbortException(exception) {\n        return (\n        // DOMException\n        exception.name === 'AbortError' ||\n            // standard-ish non-DOM abort exception\n            //@ts-ignore\n            exception.code === 'ERR_ABORTED' ||\n            // stringified DOMException\n            exception.message === 'AbortError: aborted' ||\n            // stringified standard-ish exception\n            exception.message === 'Error: aborted');\n    }\n    evict(key, entry) {\n        if (this.cache.get(key) === entry) {\n            this.cache.delete(key);\n        }\n    }\n    fill(key, data, signal, statusCallback) {\n        const aborter = new AggregateAbortController_1.default();\n        const statusReporter = new AggregateStatusReporter_1.default();\n        statusReporter.addCallback(statusCallback);\n        const newEntry = {\n            aborter: aborter,\n            promise: this.fillCallback(data, aborter.signal, (message) => {\n                statusReporter.callback(message);\n            }),\n            settled: false,\n            statusReporter,\n            get aborted() {\n                return this.aborter.signal.aborted;\n            },\n        };\n        newEntry.aborter.addSignal(signal);\n        // remove the fill from the cache when its abortcontroller fires, if still in there\n        newEntry.aborter.signal.addEventListener('abort', () => {\n            if (!newEntry.settled) {\n                this.evict(key, newEntry);\n            }\n        });\n        // chain off the cached promise to record when it settles\n        newEntry.promise\n            .then(() => {\n            newEntry.settled = true;\n        }, () => {\n            newEntry.settled = true;\n            // if the fill throws an error (including abort) and is still in the cache, remove it\n            this.evict(key, newEntry);\n        })\n            .catch(e => {\n            // this will only be reached if there is some kind of\n            // bad bug in this library\n            console.error(e);\n            throw e;\n        });\n        this.cache.set(key, newEntry);\n    }\n    static checkSinglePromise(promise, signal) {\n        // check just this signal for having been aborted, and abort the\n        // promise if it was, regardless of what happened with the cached\n        // response\n        function checkForSingleAbort() {\n            if (signal && signal.aborted) {\n                throw Object.assign(new Error('aborted'), { code: 'ERR_ABORTED' });\n            }\n        }\n        return promise.then(result => {\n            checkForSingleAbort();\n            return result;\n        }, error => {\n            checkForSingleAbort();\n            throw error;\n        });\n    }\n    has(key) {\n        return this.cache.has(key);\n    }\n    /**\n     * Callback for getting status of the pending async\n     *\n     * @callback statusCallback\n     * @param {any} status, current status string or message object\n     */\n    /**\n     * @param {any} key cache key to use for this request\n     * @param {any} data data passed as the first argument to the fill callback\n     * @param {AbortSignal} [signal] optional AbortSignal object that aborts the request\n     * @param {statusCallback} a callback to get the current status of a pending async operation\n     */\n    get(key, data, signal, statusCallback) {\n        if (!signal && data instanceof abortcontroller_ponyfill_1.AbortSignal) {\n            throw new TypeError('second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?');\n        }\n        const cacheEntry = this.cache.get(key);\n        if (cacheEntry) {\n            if (cacheEntry.aborted && !cacheEntry.settled) {\n                // if it's aborted but has not realized it yet, evict it and redispatch\n                this.evict(key, cacheEntry);\n                return this.get(key, data, signal, statusCallback);\n            }\n            if (cacheEntry.settled) {\n                // too late to abort, just return it\n                return cacheEntry.promise;\n            }\n            // request is in-flight, add this signal to its list of signals,\n            // or if there is no signal, the aborter will become non-abortable\n            cacheEntry.aborter.addSignal(signal);\n            cacheEntry.statusReporter.addCallback(statusCallback);\n            return AbortablePromiseCache.checkSinglePromise(cacheEntry.promise, signal);\n        }\n        // if we got here, it is not in the cache. fill.\n        this.fill(key, data, signal, statusCallback);\n        return AbortablePromiseCache.checkSinglePromise(\n        //see https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-\n        //eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        this.cache.get(key).promise, signal);\n    }\n    /**\n     * delete the given entry from the cache. if it exists and its fill request has\n     * not yet settled, the fill will be signaled to abort.\n     *\n     * @param {any} key\n     */\n    delete(key) {\n        const cachedEntry = this.cache.get(key);\n        if (cachedEntry) {\n            if (!cachedEntry.settled) {\n                cachedEntry.aborter.abort();\n            }\n            this.cache.delete(key);\n        }\n    }\n    /**\n     * Clear all requests from the cache. Aborts any that have not settled.\n     * @returns {number} count of entries deleted\n     */\n    clear() {\n        // iterate without needing regenerator-runtime\n        const keyIter = this.cache.keys();\n        let deleteCount = 0;\n        for (let result = keyIter.next(); !result.done; result = keyIter.next()) {\n            this.delete(result.value);\n            deleteCount += 1;\n        }\n        return deleteCount;\n    }\n}\nexports.default = AbortablePromiseCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abortcontroller_ponyfill_1 = require(\"./abortcontroller-ponyfill\");\nclass NullSignal {\n}\n/**\n * aggregates a number of abort signals, will only fire the aggregated\n * abort if all of the input signals have been aborted\n */\nclass AggregateAbortController {\n    constructor() {\n        this.signals = new Set();\n        this.abortController = new abortcontroller_ponyfill_1.AbortController();\n    }\n    /**\n     * @param {AbortSignal} [signal] optional AbortSignal to add. if falsy,\n     *  will be treated as a null-signal, and this abortcontroller will no\n     *  longer be abortable.\n     */\n    //@ts-ignore\n    addSignal(signal = new NullSignal()) {\n        if (this.signal.aborted) {\n            throw new Error('cannot add a signal, already aborted!');\n        }\n        // note that a NullSignal will never fire, so if we\n        // have one this thing will never actually abort\n        this.signals.add(signal);\n        if (signal.aborted) {\n            // handle the abort immediately if it is already aborted\n            // for some reason\n            this.handleAborted(signal);\n        }\n        else if (typeof signal.addEventListener === 'function') {\n            signal.addEventListener('abort', () => {\n                this.handleAborted(signal);\n            });\n        }\n    }\n    handleAborted(signal) {\n        this.signals.delete(signal);\n        if (this.signals.size === 0) {\n            this.abortController.abort();\n        }\n    }\n    get signal() {\n        return this.abortController.signal;\n    }\n    abort() {\n        this.abortController.abort();\n    }\n}\nexports.default = AggregateAbortController;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass AggregateStatusReporter {\n    constructor() {\n        this.callbacks = new Set();\n    }\n    addCallback(callback = () => { }) {\n        this.callbacks.add(callback);\n        callback(this.currentMessage);\n    }\n    callback(message) {\n        this.currentMessage = message;\n        this.callbacks.forEach(elt => {\n            elt(message);\n        });\n    }\n}\nexports.default = AggregateStatusReporter;\n","'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn this._size + oldCacheSize;\n\t}\n}\n\nmodule.exports = QuickLRU;\n","export default function _asyncIterator(iterable) {\n  var method,\n      async,\n      sync,\n      retry = 2;\n\n  for (\"undefined\" != typeof Symbol && (async = Symbol.asyncIterator, sync = Symbol.iterator); retry--;) {\n    if (async && null != (method = iterable[async])) return method.call(iterable);\n    if (sync && null != (method = iterable[sync])) return new AsyncFromSyncIterator(method.call(iterable));\n    async = \"@@asyncIterator\", sync = \"@@iterator\";\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nfunction AsyncFromSyncIterator(s) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var done = r.done;\n    return Promise.resolve(r.value).then(function (value) {\n      return {\n        value: value,\n        done: done\n      };\n    });\n  }\n\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(s) {\n    this.s = s, this.n = s.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(value) {\n      var ret = this.s[\"return\"];\n      return void 0 === ret ? Promise.resolve({\n        value: value,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(ret.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(value) {\n      var thr = this.s[\"return\"];\n      return void 0 === thr ? Promise.reject(value) : AsyncFromSyncIteratorContinuation(thr.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(s);\n}","import AwaitValue from \"./AwaitValue.js\";\nexport default function _awaitAsyncGenerator(value) {\n  return new AwaitValue(value);\n}","import AwaitValue from \"./AwaitValue.js\";\nexport default function AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(key === \"return\" ? \"return\" : \"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen[\"return\"] !== \"function\") {\n    this[\"return\"] = undefined;\n  }\n}\n\nAsyncGenerator.prototype[typeof Symbol === \"function\" && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n};\n\nAsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\nAsyncGenerator.prototype[\"throw\"] = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\nAsyncGenerator.prototype[\"return\"] = function (arg) {\n  return this._invoke(\"return\", arg);\n};","import AsyncGenerator from \"./AsyncGenerator.js\";\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}","export default function _AwaitValue(value) {\n  this.wrapped = value;\n}","export default function _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  iter[typeof Symbol !== \"undefined\" && Symbol.iterator || \"@@iterator\"] = function () {\n    return this;\n  };\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner[\"throw\"] === \"function\") {\n    iter[\"throw\"] = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner[\"return\"] === \"function\") {\n    iter[\"return\"] = function (value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}"],"sourceRoot":""}